{
  "version": 4,
  "terraform_version": "1.10.3",
  "serial": 739,
  "lineage": "57ba8562-ad8d-259a-8f90-459c12b661df",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "kubectl_path_documents",
      "name": "grafana",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "disable_template": false,
            "documents": [
              "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: grafana\ndata:\n  grafana.ini: |\n    [analytics]\n    reporting_enabled = false\n    check_for_updates = true\n\n    [grafana_net]\n    url = https://grafana.net\n\n    [log]\n    mode = console\n\n    [paths]\n    data = /var/lib/grafana/data\n    logs = /var/log/grafana\n    plugins = /var/lib/grafana/plugins\n    provisioning = /etc/grafana/provisioning\n\n    [server]\n    root_url = \"https://my-grafana.example.pvt\"\n\n    [auth.anonymous]\n    enabled = false\n\n    [metrics]\n    enabled = false\n    disable_total_stats = true",
              "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: dashboards\ndata:\n  dashboardproviders.yaml: |-\n    apiVersion: 1\n    providers:\n    - disableDeletion: false\n      editable: false\n      folder: Kubernetes\n      name: kubernetes\n      options:\n        path: /var/lib/grafana/dashboards/kubernetes\n      orgId: 1\n      type: file",
              "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: datasources\n  namespace: monitoring\ndata:\n  datasources.yaml: |\n    apiVersion: 1\n    datasources:\n    - name: Main\n      type: prometheus\n      url: http://prometheus-operated.monitoring:9090\n      isDefault: false\n      jsonData:\n        manageAlerts: false",
              "---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: monitoring\n  name: grafana\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      securityContext:\n        fsGroup: 472\n        runAsUser: 472\n      containers:\n        - name: grafana\n          image: grafana/grafana:11.4.0\n          imagePullPolicy: IfNotPresent\n          volumeMounts:\n            - name: config\n              mountPath: \"/etc/grafana/grafana.ini\"\n              subPath: grafana.ini\n            - name: datasources\n              mountPath: \"/etc/grafana/provisioning/datasources/datasources.yaml\"\n              subPath: datasources.yaml\n            - name: dashboards\n              mountPath: \"/etc/grafana/provisioning/dashboards/dashboardproviders.yaml\"\n              subPath: dashboardproviders.yaml\n            - name: dashboard-v1\n              mountPath: \"/var/lib/grafana/dashboards/kubernetes/dashboard-v1.json\"\n              subPath: dashboard-v1.json\n            - name: dashboard-v2\n              mountPath: \"/var/lib/grafana/dashboards/kubernetes/dashboard-v2.json\"\n              subPath: dashboard-v2.json\n            - name: flagger-v1\n              mountPath: \"/var/lib/grafana/dashboards/kubernetes/flagger-v1.json\"\n              subPath: flagger-v1.json\n          ports:\n            - name: grafana\n              containerPort: 3000\n              protocol: TCP\n          env:\n            - name: GF_SECURITY_ADMIN_USER\n              valueFrom:\n                secretKeyRef:\n                  name: grafana\n                  key: admin-user\n            - name: GF_SECURITY_ADMIN_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: grafana\n                  key: admin-password\n          livenessProbe:\n            failureThreshold: 10\n            httpGet:\n              path: /api/health\n              port: 3000\n            initialDelaySeconds: 60\n            timeoutSeconds: 30\n          readinessProbe:\n            httpGet:\n              path: /api/health\n              port: 3000\n          resources:\n            requests:\n              cpu: 500m\n              memory: 512Mi\n            limits:\n              cpu: 2000m\n              memory: 2Gi\n      volumes:\n        - name: config\n          configMap:\n            name: grafana\n        - name: datasources\n          configMap:\n            name: datasources\n        - name: dashboards\n          configMap:\n            name: dashboards\n        - name: dashboard-v1\n          configMap:\n            name: dashboard-v1\n        - name: dashboard-v2\n          configMap:\n            name: dashboard-v2\n        - name: flagger-v1\n          configMap:\n            name: flagger-v1",
              "---\napiVersion: v1\nkind: Secret\nmetadata:\n  namespace: monitoring\n  name: grafana\ntype: Opaque\ndata:\n  admin-user: \"YWRtaW4=\"\n  admin-password: \"ZGV2b3BzMTIz\"",
              "---\napiVersion: v1\nkind: Service\nmetadata:\n  namespace: monitoring\n  name: grafana\nspec:\n  type: LoadBalancer\n  ports:\n    - name: service\n      port: 80\n      targetPort: grafana\n      protocol: TCP\n  selector:\n    app: grafana"
            ],
            "id": "5144876ec61e5b492bc7f5962bee6e77cabae8d40b9abaedcf9708492f00953a",
            "manifests": {
              "/api/v1/namespaces/monitoring/configmaps/dashboards": "apiVersion: v1\ndata:\n  dashboardproviders.yaml: |-\n    apiVersion: 1\n    providers:\n    - disableDeletion: false\n      editable: false\n      folder: Kubernetes\n      name: kubernetes\n      options:\n        path: /var/lib/grafana/dashboards/kubernetes\n      orgId: 1\n      type: file\nkind: ConfigMap\nmetadata:\n  name: dashboards\n  namespace: monitoring\n",
              "/api/v1/namespaces/monitoring/configmaps/datasources": "apiVersion: v1\ndata:\n  datasources.yaml: |-\n    apiVersion: 1\n    datasources:\n    - name: Main\n      type: prometheus\n      url: http://prometheus-operated.monitoring:9090\n      isDefault: false\n      jsonData:\n        manageAlerts: false\nkind: ConfigMap\nmetadata:\n  name: datasources\n  namespace: monitoring\n",
              "/api/v1/namespaces/monitoring/configmaps/grafana": "apiVersion: v1\ndata:\n  grafana.ini: |-\n    [analytics]\n    reporting_enabled = false\n    check_for_updates = true\n\n    [grafana_net]\n    url = https://grafana.net\n\n    [log]\n    mode = console\n\n    [paths]\n    data = /var/lib/grafana/data\n    logs = /var/log/grafana\n    plugins = /var/lib/grafana/plugins\n    provisioning = /etc/grafana/provisioning\n\n    [server]\n    root_url = \"https://my-grafana.example.pvt\"\n\n    [auth.anonymous]\n    enabled = false\n\n    [metrics]\n    enabled = false\n    disable_total_stats = true\nkind: ConfigMap\nmetadata:\n  name: grafana\n  namespace: monitoring\n",
              "/api/v1/namespaces/monitoring/secrets/grafana": "apiVersion: v1\ndata:\n  admin-password: ZGV2b3BzMTIz\n  admin-user: YWRtaW4=\nkind: Secret\nmetadata:\n  name: grafana\n  namespace: monitoring\ntype: Opaque\n",
              "/api/v1/namespaces/monitoring/services/grafana": "apiVersion: v1\nkind: Service\nmetadata:\n  name: grafana\n  namespace: monitoring\nspec:\n  ports:\n  - name: service\n    port: 80\n    protocol: TCP\n    targetPort: grafana\n  selector:\n    app: grafana\n  type: LoadBalancer\n",
              "/apis/apps/v1/namespaces/monitoring/deployments/grafana": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grafana\n  namespace: monitoring\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      containers:\n      - env:\n        - name: GF_SECURITY_ADMIN_USER\n          valueFrom:\n            secretKeyRef:\n              key: admin-user\n              name: grafana\n        - name: GF_SECURITY_ADMIN_PASSWORD\n          valueFrom:\n            secretKeyRef:\n              key: admin-password\n              name: grafana\n        image: grafana/grafana:11.4.0\n        imagePullPolicy: IfNotPresent\n        livenessProbe:\n          failureThreshold: 10\n          httpGet:\n            path: /api/health\n            port: 3000\n          initialDelaySeconds: 60\n          timeoutSeconds: 30\n        name: grafana\n        ports:\n        - containerPort: 3000\n          name: grafana\n          protocol: TCP\n        readinessProbe:\n          httpGet:\n            path: /api/health\n            port: 3000\n        resources:\n          limits:\n            cpu: 2000m\n            memory: 2Gi\n          requests:\n            cpu: 500m\n            memory: 512Mi\n        volumeMounts:\n        - mountPath: /etc/grafana/grafana.ini\n          name: config\n          subPath: grafana.ini\n        - mountPath: /etc/grafana/provisioning/datasources/datasources.yaml\n          name: datasources\n          subPath: datasources.yaml\n        - mountPath: /etc/grafana/provisioning/dashboards/dashboardproviders.yaml\n          name: dashboards\n          subPath: dashboardproviders.yaml\n        - mountPath: /var/lib/grafana/dashboards/kubernetes/dashboard-v1.json\n          name: dashboard-v1\n          subPath: dashboard-v1.json\n        - mountPath: /var/lib/grafana/dashboards/kubernetes/dashboard-v2.json\n          name: dashboard-v2\n          subPath: dashboard-v2.json\n        - mountPath: /var/lib/grafana/dashboards/kubernetes/flagger-v1.json\n          name: flagger-v1\n          subPath: flagger-v1.json\n      securityContext:\n        fsGroup: 472\n        runAsUser: 472\n      volumes:\n      - configMap:\n          name: grafana\n        name: config\n      - configMap:\n          name: datasources\n        name: datasources\n      - configMap:\n          name: dashboards\n        name: dashboards\n      - configMap:\n          name: dashboard-v1\n        name: dashboard-v1\n      - configMap:\n          name: dashboard-v2\n        name: dashboard-v2\n      - configMap:\n          name: flagger-v1\n        name: flagger-v1\n"
            },
            "pattern": "../monitoring/grafana/*.yaml",
            "sensitive_vars": null,
            "vars": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_vars"
              }
            ]
          ]
        }
      ]
    },
    {
      "mode": "data",
      "type": "kubectl_path_documents",
      "name": "grafana_dashboards",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "disable_template": false,
            "documents": [
              "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: dashboard-v1\ndata:\n  dashboard-v1.json: |\n    {\n        \"annotations\": {\n            \"list\": [\n                {\n                    \"builtIn\": 1,\n                    \"datasource\": {\n                        \"type\": \"grafana\",\n                        \"uid\": \"-- Grafana --\"\n                    },\n                    \"enable\": true,\n                    \"hide\": true,\n                    \"iconColor\": \"rgba(0, 211, 255, 1)\",\n                    \"name\": \"Annotations \u0026 Alerts\",\n                    \"target\": {\n                        \"limit\": 100,\n                        \"matchAny\": false,\n                        \"tags\": [],\n                        \"type\": \"dashboard\"\n                    },\n                    \"type\": \"dashboard\"\n                }\n            ]\n        },\n        \"editable\": true,\n        \"fiscalYearStartMonth\": 0,\n        \"graphTooltip\": 0,\n        \"id\": 1,\n        \"links\": [],\n        \"liveNow\": false,\n        \"panels\": [\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"fixedColor\": \"green\",\n                            \"mode\": \"fixed\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": true,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"dashed\"\n                            }\n                        },\n                        \"decimals\": 1,\n                        \"mappings\": [],\n                        \"max\": 1,\n                        \"min\": 0,\n                        \"thresholds\": {\n                            \"mode\": \"percentage\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 90\n                                }\n                            ]\n                        },\n                        \"unit\": \"percentunit\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 12,\n                    \"x\": 0,\n                    \"y\": 0\n                },\n                \"id\": 5,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"PEB814BE3CA3B78C0\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\"}[1m]))\",\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"Availability (non-4|5xx responses)\",\n                \"type\": \"timeseries\"\n            },\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"mode\": \"palette-classic\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": false,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"off\"\n                            }\n                        },\n                        \"mappings\": [],\n                        \"max\": 4,\n                        \"min\": 0,\n                        \"thresholds\": {\n                            \"mode\": \"absolute\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"green\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 80\n                                }\n                            ]\n                        },\n                        \"unit\": \"s\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 12,\n                    \"x\": 12,\n                    \"y\": 0\n                },\n                \"id\": 3,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true,\n                        \"sortBy\": \"Last *\",\n                        \"sortDesc\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"1_j4Lb87z\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp\\\"}[1m])) by (le))\",\n                        \"instant\": false,\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"Latency - p95\",\n                \"type\": \"timeseries\"\n            },\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"mode\": \"palette-classic\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": false,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"off\"\n                            }\n                        },\n                        \"mappings\": [],\n                        \"thresholds\": {\n                            \"mode\": \"absolute\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"green\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 80\n                                }\n                            ]\n                        },\n                        \"unit\": \"reqps\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 24,\n                    \"x\": 0,\n                    \"y\": 6\n                },\n                \"id\": 6,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true,\n                        \"sortBy\": \"Last *\",\n                        \"sortDesc\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"PEB814BE3CA3B78C0\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\"}[1m]))\",\n                        \"instant\": false,\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"RPS\",\n                \"type\": \"timeseries\"\n            }\n        ],\n        \"refresh\": \"5s\",\n        \"schemaVersion\": 38,\n        \"style\": \"dark\",\n        \"tags\": [],\n        \"templating\": {\n            \"list\": []\n        },\n        \"time\": {\n            \"from\": \"now-15m\",\n            \"to\": \"now\"\n        },\n        \"timepicker\": {},\n        \"timezone\": \"\",\n        \"title\": \"Latency \u0026 Availability \u0026 RPS\",\n        \"uid\": \"71632rdf82g3bf\",\n        \"version\": 3,\n        \"weekStart\": \"\"\n    }",
              "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: dashboard-v2\ndata:\n  dashboard-v2.json: |\n    {\n      \"annotations\": {\n        \"list\": [\n          {\n            \"builtIn\": 1,\n            \"datasource\": {\n              \"type\": \"grafana\",\n              \"uid\": \"-- Grafana --\"\n            },\n            \"enable\": true,\n            \"hide\": true,\n            \"iconColor\": \"rgba(0, 211, 255, 1)\",\n            \"name\": \"Annotations \u0026 Alerts\",\n            \"target\": {\n              \"limit\": 100,\n              \"matchAny\": false,\n              \"tags\": [],\n              \"type\": \"dashboard\"\n            },\n            \"type\": \"dashboard\"\n          }\n        ]\n      },\n      \"editable\": true,\n      \"fiscalYearStartMonth\": 0,\n      \"graphTooltip\": 0,\n      \"id\": 3,\n      \"links\": [],\n      \"liveNow\": false,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"green\",\n                \"mode\": \"fixed\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": true,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"dashed\"\n                }\n              },\n              \"decimals\": 1,\n              \"mappings\": [],\n              \"max\": 1,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"percentage\",\n                \"steps\": [\n                  {\n                    \"color\": \"red\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 90\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"Canary\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"color\",\n                    \"value\": {\n                      \"mode\": \"palette-classic\"\n                    }\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 0\n          },\n          \"id\": 5,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\"}[1m]))\",\n              \"legendFormat\": \"Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\"}[1m]))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Availability (non-4|5xx responses)\",\n          \"type\": \"timeseries\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": false,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"off\"\n                }\n              },\n              \"mappings\": [],\n              \"max\": 4,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"s\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 0\n          },\n          \"id\": 3,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"sortBy\": \"Last *\",\n              \"sortDesc\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"1_j4Lb87z\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp-control\\\"}[1m])) by (le))\",\n              \"instant\": false,\n              \"legendFormat\": \"p95 - Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp-canary\\\"}[1m])) by (le))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"p95 - Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Latency\",\n          \"type\": \"timeseries\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": false,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"off\"\n                }\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"reqps\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 6\n          },\n          \"id\": 6,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"sortBy\": \"Last *\",\n              \"sortDesc\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\"}[1m]))\",\n              \"instant\": false,\n              \"legendFormat\": \"Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\"}[1m]))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"RPS\",\n          \"type\": \"timeseries\"\n        }\n      ],\n      \"refresh\": \"5s\",\n      \"schemaVersion\": 38,\n      \"style\": \"dark\",\n      \"tags\": [],\n      \"templating\": {\n        \"list\": []\n      },\n      \"time\": {\n        \"from\": \"now-15m\",\n        \"to\": \"now\"\n      },\n      \"timepicker\": {},\n      \"timezone\": \"\",\n      \"title\": \"Latency \u0026 Availability \u0026 RPS (Canary)\",\n      \"uid\": \"asd76t13y9hfdn\",\n      \"version\": 1,\n      \"weekStart\": \"\"\n    }",
              "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: flagger-v1\ndata:\n  flagger-v1.json: |\n    {\n      \"annotations\": {\n        \"list\": [\n          {\n            \"builtIn\": 1,\n            \"datasource\": {\n              \"type\": \"datasource\",\n              \"uid\": \"grafana\"\n            },\n            \"enable\": true,\n            \"hide\": true,\n            \"iconColor\": \"rgba(0, 211, 255, 1)\",\n            \"name\": \"Annotations \u0026 Alerts\",\n            \"type\": \"dashboard\"\n          }\n        ]\n      },\n      \"editable\": true,\n      \"fiscalYearStartMonth\": 0,\n      \"graphTooltip\": 0,\n      \"links\": [],\n      \"liveNow\": false,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"rgb(31, 120, 193)\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"ops\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 0,\n            \"y\": 0\n          },\n          \"id\": 90,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"round(sum(rate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\"}[30s])), 0.001)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"refId\": \"A\",\n              \"step\": 4\n            }\n          ],\n          \"title\": \"Primary: Incoming Request Volume\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"rgb(31, 120, 193)\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 95\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 99\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 6,\n            \"y\": 0\n          },\n          \"id\": 98,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"mean\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\",response_code!~\\\"[4-5].*\\\"}[30s])) / sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\"}[30s]))\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Incoming Success Rate\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"#7eb26d\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"ops\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 12,\n            \"y\": 0\n          },\n          \"id\": 97,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"round(sum(rate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\"}[30s])), 0.001)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"refId\": \"A\",\n              \"step\": 4\n            }\n          ],\n          \"title\": \"Canary: Incoming Request Volume\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"#7eb26d\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 95\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 99\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 18,\n            \"y\": 0\n          },\n          \"id\": 99,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\",response_code!~\\\"[4-5].*\\\"}[30s])) / sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\"}[30s]))\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Incoming Success Rate\",\n          \"type\": \"stat\"\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 5,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 6\n          },\n          \"hiddenSeries\": false,\n          \"id\": 96,\n          \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": true,\n            \"show\": false,\n            \"total\": false,\n            \"values\": false\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"10.0.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.50, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P50\",\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.90, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P90\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.99, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P99\",\n              \"refId\": \"C\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Primary: Request Duration\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"format\": \"s\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": false\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 5,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 6\n          },\n          \"hiddenSeries\": false,\n          \"id\": 91,\n          \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": true,\n            \"show\": false,\n            \"total\": false,\n            \"values\": false\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"10.0.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.50, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P50\",\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.90, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P90\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.99, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P99\",\n              \"refId\": \"C\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Canary: Request Duration\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"format\": \"s\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": false\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        }\n      ],\n      \"refresh\": \"10s\",\n      \"schemaVersion\": 38,\n      \"style\": \"dark\",\n      \"tags\": [],\n      \"templating\": {\n        \"list\": [\n          {\n            \"current\": {\n              \"selected\": false,\n              \"text\": \"staging\",\n              \"value\": \"staging\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Namespace\",\n            \"multi\": false,\n            \"name\": \"namespace\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total) by (destination_workload_namespace) or sum(istio_tcp_sent_bytes_total) by (destination_workload_namespace))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*_namespace=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 0,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          },\n          {\n            \"current\": {\n              \"selected\": false,\n              \"text\": \"myapp-primary\",\n              \"value\": \"myapp-primary\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Primary\",\n            \"multi\": false,\n            \"name\": \"primary\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total{destination_workload_namespace=~\\\"$namespace\\\"}) by (destination_workload))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*destination_workload=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 1,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          },\n          {\n            \"current\": {\n              \"selected\": true,\n              \"text\": \"myapp\",\n              \"value\": \"myapp\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Canary\",\n            \"multi\": false,\n            \"name\": \"canary\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total{destination_workload_namespace=~\\\"$namespace\\\"}) by (destination_workload))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*destination_workload=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 1,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          }\n        ]\n      },\n      \"time\": {\n        \"from\": \"now-15m\",\n        \"to\": \"now\"\n      },\n      \"timepicker\": {\n        \"refresh_intervals\": [\n          \"5s\",\n          \"10s\",\n          \"30s\",\n          \"1m\",\n          \"5m\",\n          \"15m\",\n          \"30m\",\n          \"1h\",\n          \"2h\",\n          \"1d\"\n        ],\n        \"time_options\": [\n          \"5m\",\n          \"15m\",\n          \"1h\",\n          \"6h\",\n          \"12h\",\n          \"24h\",\n          \"2d\",\n          \"7d\",\n          \"30d\"\n        ]\n      },\n      \"timezone\": \"\",\n      \"title\": \"Istio Canary\",\n      \"uid\": \"flagger-istio\",\n      \"version\": 1,\n      \"weekStart\": \"\"\n    }"
            ],
            "id": "7741077a45edcee75c9e334e7fe7f4bc7937339e49745b18e86207c284ab1789",
            "manifests": {
              "/api/v1/namespaces/monitoring/configmaps/dashboard-v1": "apiVersion: v1\ndata:\n  dashboard-v1.json: |-\n    {\n        \"annotations\": {\n            \"list\": [\n                {\n                    \"builtIn\": 1,\n                    \"datasource\": {\n                        \"type\": \"grafana\",\n                        \"uid\": \"-- Grafana --\"\n                    },\n                    \"enable\": true,\n                    \"hide\": true,\n                    \"iconColor\": \"rgba(0, 211, 255, 1)\",\n                    \"name\": \"Annotations \u0026 Alerts\",\n                    \"target\": {\n                        \"limit\": 100,\n                        \"matchAny\": false,\n                        \"tags\": [],\n                        \"type\": \"dashboard\"\n                    },\n                    \"type\": \"dashboard\"\n                }\n            ]\n        },\n        \"editable\": true,\n        \"fiscalYearStartMonth\": 0,\n        \"graphTooltip\": 0,\n        \"id\": 1,\n        \"links\": [],\n        \"liveNow\": false,\n        \"panels\": [\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"fixedColor\": \"green\",\n                            \"mode\": \"fixed\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": true,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"dashed\"\n                            }\n                        },\n                        \"decimals\": 1,\n                        \"mappings\": [],\n                        \"max\": 1,\n                        \"min\": 0,\n                        \"thresholds\": {\n                            \"mode\": \"percentage\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 90\n                                }\n                            ]\n                        },\n                        \"unit\": \"percentunit\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 12,\n                    \"x\": 0,\n                    \"y\": 0\n                },\n                \"id\": 5,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"PEB814BE3CA3B78C0\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\"}[1m]))\",\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"Availability (non-4|5xx responses)\",\n                \"type\": \"timeseries\"\n            },\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"mode\": \"palette-classic\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": false,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"off\"\n                            }\n                        },\n                        \"mappings\": [],\n                        \"max\": 4,\n                        \"min\": 0,\n                        \"thresholds\": {\n                            \"mode\": \"absolute\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"green\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 80\n                                }\n                            ]\n                        },\n                        \"unit\": \"s\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 12,\n                    \"x\": 12,\n                    \"y\": 0\n                },\n                \"id\": 3,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true,\n                        \"sortBy\": \"Last *\",\n                        \"sortDesc\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"1_j4Lb87z\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp\\\"}[1m])) by (le))\",\n                        \"instant\": false,\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"Latency - p95\",\n                \"type\": \"timeseries\"\n            },\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"mode\": \"palette-classic\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": false,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"off\"\n                            }\n                        },\n                        \"mappings\": [],\n                        \"thresholds\": {\n                            \"mode\": \"absolute\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"green\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 80\n                                }\n                            ]\n                        },\n                        \"unit\": \"reqps\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 24,\n                    \"x\": 0,\n                    \"y\": 6\n                },\n                \"id\": 6,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true,\n                        \"sortBy\": \"Last *\",\n                        \"sortDesc\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"PEB814BE3CA3B78C0\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\"}[1m]))\",\n                        \"instant\": false,\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"RPS\",\n                \"type\": \"timeseries\"\n            }\n        ],\n        \"refresh\": \"5s\",\n        \"schemaVersion\": 38,\n        \"style\": \"dark\",\n        \"tags\": [],\n        \"templating\": {\n            \"list\": []\n        },\n        \"time\": {\n            \"from\": \"now-15m\",\n            \"to\": \"now\"\n        },\n        \"timepicker\": {},\n        \"timezone\": \"\",\n        \"title\": \"Latency \u0026 Availability \u0026 RPS\",\n        \"uid\": \"71632rdf82g3bf\",\n        \"version\": 3,\n        \"weekStart\": \"\"\n    }\nkind: ConfigMap\nmetadata:\n  name: dashboard-v1\n  namespace: monitoring\n",
              "/api/v1/namespaces/monitoring/configmaps/dashboard-v2": "apiVersion: v1\ndata:\n  dashboard-v2.json: |-\n    {\n      \"annotations\": {\n        \"list\": [\n          {\n            \"builtIn\": 1,\n            \"datasource\": {\n              \"type\": \"grafana\",\n              \"uid\": \"-- Grafana --\"\n            },\n            \"enable\": true,\n            \"hide\": true,\n            \"iconColor\": \"rgba(0, 211, 255, 1)\",\n            \"name\": \"Annotations \u0026 Alerts\",\n            \"target\": {\n              \"limit\": 100,\n              \"matchAny\": false,\n              \"tags\": [],\n              \"type\": \"dashboard\"\n            },\n            \"type\": \"dashboard\"\n          }\n        ]\n      },\n      \"editable\": true,\n      \"fiscalYearStartMonth\": 0,\n      \"graphTooltip\": 0,\n      \"id\": 3,\n      \"links\": [],\n      \"liveNow\": false,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"green\",\n                \"mode\": \"fixed\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": true,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"dashed\"\n                }\n              },\n              \"decimals\": 1,\n              \"mappings\": [],\n              \"max\": 1,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"percentage\",\n                \"steps\": [\n                  {\n                    \"color\": \"red\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 90\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"Canary\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"color\",\n                    \"value\": {\n                      \"mode\": \"palette-classic\"\n                    }\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 0\n          },\n          \"id\": 5,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\"}[1m]))\",\n              \"legendFormat\": \"Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\"}[1m]))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Availability (non-4|5xx responses)\",\n          \"type\": \"timeseries\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": false,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"off\"\n                }\n              },\n              \"mappings\": [],\n              \"max\": 4,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"s\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 0\n          },\n          \"id\": 3,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"sortBy\": \"Last *\",\n              \"sortDesc\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"1_j4Lb87z\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp-control\\\"}[1m])) by (le))\",\n              \"instant\": false,\n              \"legendFormat\": \"p95 - Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp-canary\\\"}[1m])) by (le))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"p95 - Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Latency\",\n          \"type\": \"timeseries\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": false,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"off\"\n                }\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"reqps\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 6\n          },\n          \"id\": 6,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"sortBy\": \"Last *\",\n              \"sortDesc\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\"}[1m]))\",\n              \"instant\": false,\n              \"legendFormat\": \"Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\"}[1m]))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"RPS\",\n          \"type\": \"timeseries\"\n        }\n      ],\n      \"refresh\": \"5s\",\n      \"schemaVersion\": 38,\n      \"style\": \"dark\",\n      \"tags\": [],\n      \"templating\": {\n        \"list\": []\n      },\n      \"time\": {\n        \"from\": \"now-15m\",\n        \"to\": \"now\"\n      },\n      \"timepicker\": {},\n      \"timezone\": \"\",\n      \"title\": \"Latency \u0026 Availability \u0026 RPS (Canary)\",\n      \"uid\": \"asd76t13y9hfdn\",\n      \"version\": 1,\n      \"weekStart\": \"\"\n    }\nkind: ConfigMap\nmetadata:\n  name: dashboard-v2\n  namespace: monitoring\n",
              "/api/v1/namespaces/monitoring/configmaps/flagger-v1": "apiVersion: v1\ndata:\n  flagger-v1.json: |-\n    {\n      \"annotations\": {\n        \"list\": [\n          {\n            \"builtIn\": 1,\n            \"datasource\": {\n              \"type\": \"datasource\",\n              \"uid\": \"grafana\"\n            },\n            \"enable\": true,\n            \"hide\": true,\n            \"iconColor\": \"rgba(0, 211, 255, 1)\",\n            \"name\": \"Annotations \u0026 Alerts\",\n            \"type\": \"dashboard\"\n          }\n        ]\n      },\n      \"editable\": true,\n      \"fiscalYearStartMonth\": 0,\n      \"graphTooltip\": 0,\n      \"links\": [],\n      \"liveNow\": false,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"rgb(31, 120, 193)\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"ops\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 0,\n            \"y\": 0\n          },\n          \"id\": 90,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"round(sum(rate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\"}[30s])), 0.001)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"refId\": \"A\",\n              \"step\": 4\n            }\n          ],\n          \"title\": \"Primary: Incoming Request Volume\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"rgb(31, 120, 193)\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 95\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 99\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 6,\n            \"y\": 0\n          },\n          \"id\": 98,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"mean\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\",response_code!~\\\"[4-5].*\\\"}[30s])) / sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\"}[30s]))\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Incoming Success Rate\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"#7eb26d\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"ops\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 12,\n            \"y\": 0\n          },\n          \"id\": 97,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"round(sum(rate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\"}[30s])), 0.001)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"refId\": \"A\",\n              \"step\": 4\n            }\n          ],\n          \"title\": \"Canary: Incoming Request Volume\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"#7eb26d\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 95\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 99\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 18,\n            \"y\": 0\n          },\n          \"id\": 99,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\",response_code!~\\\"[4-5].*\\\"}[30s])) / sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\"}[30s]))\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Incoming Success Rate\",\n          \"type\": \"stat\"\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 5,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 6\n          },\n          \"hiddenSeries\": false,\n          \"id\": 96,\n          \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": true,\n            \"show\": false,\n            \"total\": false,\n            \"values\": false\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"10.0.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.50, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P50\",\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.90, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P90\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.99, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P99\",\n              \"refId\": \"C\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Primary: Request Duration\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"format\": \"s\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": false\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 5,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 6\n          },\n          \"hiddenSeries\": false,\n          \"id\": 91,\n          \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": true,\n            \"show\": false,\n            \"total\": false,\n            \"values\": false\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"10.0.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.50, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P50\",\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.90, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P90\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.99, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P99\",\n              \"refId\": \"C\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Canary: Request Duration\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"format\": \"s\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": false\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        }\n      ],\n      \"refresh\": \"10s\",\n      \"schemaVersion\": 38,\n      \"style\": \"dark\",\n      \"tags\": [],\n      \"templating\": {\n        \"list\": [\n          {\n            \"current\": {\n              \"selected\": false,\n              \"text\": \"staging\",\n              \"value\": \"staging\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Namespace\",\n            \"multi\": false,\n            \"name\": \"namespace\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total) by (destination_workload_namespace) or sum(istio_tcp_sent_bytes_total) by (destination_workload_namespace))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*_namespace=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 0,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          },\n          {\n            \"current\": {\n              \"selected\": false,\n              \"text\": \"myapp-primary\",\n              \"value\": \"myapp-primary\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Primary\",\n            \"multi\": false,\n            \"name\": \"primary\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total{destination_workload_namespace=~\\\"$namespace\\\"}) by (destination_workload))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*destination_workload=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 1,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          },\n          {\n            \"current\": {\n              \"selected\": true,\n              \"text\": \"myapp\",\n              \"value\": \"myapp\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Canary\",\n            \"multi\": false,\n            \"name\": \"canary\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total{destination_workload_namespace=~\\\"$namespace\\\"}) by (destination_workload))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*destination_workload=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 1,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          }\n        ]\n      },\n      \"time\": {\n        \"from\": \"now-15m\",\n        \"to\": \"now\"\n      },\n      \"timepicker\": {\n        \"refresh_intervals\": [\n          \"5s\",\n          \"10s\",\n          \"30s\",\n          \"1m\",\n          \"5m\",\n          \"15m\",\n          \"30m\",\n          \"1h\",\n          \"2h\",\n          \"1d\"\n        ],\n        \"time_options\": [\n          \"5m\",\n          \"15m\",\n          \"1h\",\n          \"6h\",\n          \"12h\",\n          \"24h\",\n          \"2d\",\n          \"7d\",\n          \"30d\"\n        ]\n      },\n      \"timezone\": \"\",\n      \"title\": \"Istio Canary\",\n      \"uid\": \"flagger-istio\",\n      \"version\": 1,\n      \"weekStart\": \"\"\n    }\nkind: ConfigMap\nmetadata:\n  name: flagger-v1\n  namespace: monitoring\n"
            },
            "pattern": "../monitoring/grafana/dashboards/*.yaml",
            "sensitive_vars": null,
            "vars": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_vars"
              }
            ]
          ]
        }
      ]
    },
    {
      "mode": "data",
      "type": "kubectl_path_documents",
      "name": "prometheus",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "disable_template": false,
            "documents": [
              "---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: prometheus\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: prometheus\nsubjects:\n  - kind: ServiceAccount\n    name: prometheus\n    namespace: monitoring",
              "---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: prometheus\nrules:\n  - apiGroups: [\"\"]\n    resources:\n      - nodes\n      - nodes/metrics\n      - services\n      - endpoints\n      - pods\n    verbs: [\"get\", \"list\", \"watch\"]\n  - apiGroups: [\"\"]\n    resources:\n      - configmaps\n    verbs: [\"get\"]\n  - apiGroups:\n      - networking.k8s.io\n    resources:\n      - ingresses\n    verbs: [\"get\", \"list\", \"watch\"]\n  - nonResourceURLs: [\"/metrics\"]\n    verbs: [\"get\"]",
              "---\napiVersion: monitoring.coreos.com/v1\nkind: Prometheus\nmetadata:\n  name: main\n  namespace: monitoring\nspec:\n  version: v2.46.0\n  serviceAccountName: prometheus\n  podMonitorSelector:\n    matchLabels:\n      prometheus: main\n  podMonitorNamespaceSelector:\n    matchLabels:\n      monitoring: prometheus\n  serviceMonitorSelector:\n    matchLabels:\n      prometheus: main\n  serviceMonitorNamespaceSelector:\n    matchLabels:\n      monitoring: prometheus\n  replicas: 1\n  logLevel: info\n  logFormat: logfmt\n  retention: 7d\n  scrapeInterval: 5s\n  securityContext:\n    fsGroup: 0\n    runAsNonRoot: false\n    runAsUser: 0\n  # storage:\n  #   volumeClaimTemplate:\n  #     spec:\n  #       resources:\n  #         requests:\n  #           storage: 20Gi",
              "---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: prometheus\n  namespace: monitoring",
              "---\napiVersion: v1\nkind: Service\nmetadata:\n  name: prometheus\n  namespace: monitoring\nspec:\n  type: LoadBalancer\n  selector:\n    app.kubernetes.io/instance: main\n    app.kubernetes.io/managed-by: prometheus-operator\n  ports:\n    - protocol: TCP\n      port: 80\n      targetPort: web"
            ],
            "id": "91cbc39a12bef1b411a0ae37cc90229602452939a83bc43faac808a2fa8670b6",
            "manifests": {
              "/api/v1/namespaces/monitoring/serviceaccounts/prometheus": "apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: prometheus\n  namespace: monitoring\n",
              "/api/v1/namespaces/monitoring/services/prometheus": "apiVersion: v1\nkind: Service\nmetadata:\n  name: prometheus\n  namespace: monitoring\nspec:\n  ports:\n  - port: 80\n    protocol: TCP\n    targetPort: web\n  selector:\n    app.kubernetes.io/instance: main\n    app.kubernetes.io/managed-by: prometheus-operator\n  type: LoadBalancer\n",
              "/apis/monitoring.coreos.com/v1/namespaces/monitoring/prometheuses/main": "apiVersion: monitoring.coreos.com/v1\nkind: Prometheus\nmetadata:\n  name: main\n  namespace: monitoring\nspec:\n  logFormat: logfmt\n  logLevel: info\n  podMonitorNamespaceSelector:\n    matchLabels:\n      monitoring: prometheus\n  podMonitorSelector:\n    matchLabels:\n      prometheus: main\n  replicas: 1\n  retention: 7d\n  scrapeInterval: 5s\n  securityContext:\n    fsGroup: 0\n    runAsNonRoot: false\n    runAsUser: 0\n  serviceAccountName: prometheus\n  serviceMonitorNamespaceSelector:\n    matchLabels:\n      monitoring: prometheus\n  serviceMonitorSelector:\n    matchLabels:\n      prometheus: main\n  version: v2.46.0\n",
              "/apis/rbac.authorization.k8s.io/v1/clusterrolebindings/prometheus": "apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: prometheus\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: prometheus\nsubjects:\n- kind: ServiceAccount\n  name: prometheus\n  namespace: monitoring\n",
              "/apis/rbac.authorization.k8s.io/v1/clusterroles/prometheus": "apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: prometheus\nrules:\n- apiGroups:\n  - \"\"\n  resources:\n  - nodes\n  - nodes/metrics\n  - services\n  - endpoints\n  - pods\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"\"\n  resources:\n  - configmaps\n  verbs:\n  - get\n- apiGroups:\n  - networking.k8s.io\n  resources:\n  - ingresses\n  verbs:\n  - get\n  - list\n  - watch\n- nonResourceURLs:\n  - /metrics\n  verbs:\n  - get\n"
            },
            "pattern": "../monitoring/prometheus/*.yaml",
            "sensitive_vars": null,
            "vars": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_vars"
              }
            ]
          ]
        }
      ]
    },
    {
      "mode": "data",
      "type": "kubectl_path_documents",
      "name": "prometheus_operator",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "disable_template": false,
            "documents": [],
            "id": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
            "manifests": {},
            "pattern": "../monitoring/prometheus-operator/*.yaml",
            "sensitive_vars": null,
            "vars": null
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "sensitive_vars"
              }
            ]
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "flagger",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "flagger",
            "cleanup_on_fail": false,
            "create_namespace": true,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "flagger",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.40.0",
                "chart": "flagger",
                "name": "flagger",
                "namespace": "flagger",
                "revision": 1,
                "values": "{\"crd\":{\"create\":false},\"meshProvider\":\"istio\",\"metricsServer\":\"http://prometheus-operated.monitoring:9090\"}",
                "version": "1.40.0"
              }
            ],
            "name": "flagger",
            "namespace": "flagger",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://flagger.app",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [
              {
                "name": "crd.create",
                "type": "",
                "value": "false"
              },
              {
                "name": "meshProvider",
                "type": "",
                "value": "istio"
              },
              {
                "name": "metricsServer",
                "type": "",
                "value": "http://prometheus-operated.monitoring:9090"
              }
            ],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": null,
            "verify": false,
            "version": "1.40.0",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "istio_base",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "base",
            "cleanup_on_fail": false,
            "create_namespace": true,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "istio-base",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.24.1",
                "chart": "base",
                "name": "istio-base",
                "namespace": "istio-system",
                "revision": 1,
                "values": "{}",
                "version": "1.24.1"
              }
            ],
            "name": "istio-base",
            "namespace": "istio-system",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://istio-release.storage.googleapis.com/charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": null,
            "verify": false,
            "version": "1.24.1",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "istiod",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "istiod",
            "cleanup_on_fail": false,
            "create_namespace": true,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "istiod",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "1.24.1",
                "chart": "istiod",
                "name": "istiod",
                "namespace": "istio-system",
                "revision": 1,
                "values": "{\"telemetry\":{\"enabled\":true}}",
                "version": "1.24.1"
              }
            ],
            "name": "istiod",
            "namespace": "istio-system",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://istio-release.storage.googleapis.com/charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [
              {
                "name": "telemetry.enabled",
                "type": "",
                "value": "true"
              }
            ],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": null,
            "verify": false,
            "version": "1.24.1",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "helm_release.istio_base"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "loadtester",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "loadtester",
            "cleanup_on_fail": false,
            "create_namespace": true,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "loadtester",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "0.34.0",
                "chart": "loadtester",
                "name": "loadtester",
                "namespace": "flagger",
                "revision": 1,
                "values": "{}",
                "version": "0.34.0"
              }
            ],
            "name": "loadtester",
            "namespace": "flagger",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://flagger.app",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": null,
            "verify": false,
            "version": "0.34.0",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "helm_release",
      "name": "prometheus_operator_crds",
      "provider": "provider[\"registry.terraform.io/hashicorp/helm\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "atomic": false,
            "chart": "prometheus-operator-crds",
            "cleanup_on_fail": false,
            "create_namespace": true,
            "dependency_update": false,
            "description": null,
            "devel": null,
            "disable_crd_hooks": false,
            "disable_openapi_validation": false,
            "disable_webhooks": false,
            "force_update": false,
            "id": "prometheus-operator-crds",
            "keyring": null,
            "lint": false,
            "manifest": null,
            "max_history": 0,
            "metadata": [
              {
                "app_version": "0.67.0",
                "chart": "prometheus-operator-crds",
                "name": "prometheus-operator-crds",
                "namespace": "monitoring",
                "revision": 1,
                "values": "{}",
                "version": "5.1.0"
              }
            ],
            "name": "prometheus-operator-crds",
            "namespace": "monitoring",
            "pass_credentials": false,
            "postrender": [],
            "recreate_pods": false,
            "render_subchart_notes": true,
            "replace": false,
            "repository": "https://prometheus-community.github.io/helm-charts",
            "repository_ca_file": null,
            "repository_cert_file": null,
            "repository_key_file": null,
            "repository_password": null,
            "repository_username": null,
            "reset_values": false,
            "reuse_values": false,
            "set": [],
            "set_list": [],
            "set_sensitive": [],
            "skip_crds": false,
            "status": "deployed",
            "timeout": 300,
            "values": null,
            "verify": false,
            "version": "5.1.0",
            "wait": true,
            "wait_for_jobs": false
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "repository_password"
              }
            ]
          ],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "grafana",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "index_key": "---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: monitoring\n  name: grafana\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      securityContext:\n        fsGroup: 472\n        runAsUser: 472\n      containers:\n        - name: grafana\n          image: grafana/grafana:11.4.0\n          imagePullPolicy: IfNotPresent\n          volumeMounts:\n            - name: config\n              mountPath: \"/etc/grafana/grafana.ini\"\n              subPath: grafana.ini\n            - name: datasources\n              mountPath: \"/etc/grafana/provisioning/datasources/datasources.yaml\"\n              subPath: datasources.yaml\n            - name: dashboards\n              mountPath: \"/etc/grafana/provisioning/dashboards/dashboardproviders.yaml\"\n              subPath: dashboardproviders.yaml\n            - name: dashboard-v1\n              mountPath: \"/var/lib/grafana/dashboards/kubernetes/dashboard-v1.json\"\n              subPath: dashboard-v1.json\n            - name: dashboard-v2\n              mountPath: \"/var/lib/grafana/dashboards/kubernetes/dashboard-v2.json\"\n              subPath: dashboard-v2.json\n            - name: flagger-v1\n              mountPath: \"/var/lib/grafana/dashboards/kubernetes/flagger-v1.json\"\n              subPath: flagger-v1.json\n          ports:\n            - name: grafana\n              containerPort: 3000\n              protocol: TCP\n          env:\n            - name: GF_SECURITY_ADMIN_USER\n              valueFrom:\n                secretKeyRef:\n                  name: grafana\n                  key: admin-user\n            - name: GF_SECURITY_ADMIN_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: grafana\n                  key: admin-password\n          livenessProbe:\n            failureThreshold: 10\n            httpGet:\n              path: /api/health\n              port: 3000\n            initialDelaySeconds: 60\n            timeoutSeconds: 30\n          readinessProbe:\n            httpGet:\n              path: /api/health\n              port: 3000\n          resources:\n            requests:\n              cpu: 500m\n              memory: 512Mi\n            limits:\n              cpu: 2000m\n              memory: 2Gi\n      volumes:\n        - name: config\n          configMap:\n            name: grafana\n        - name: datasources\n          configMap:\n            name: datasources\n        - name: dashboards\n          configMap:\n            name: dashboards\n        - name: dashboard-v1\n          configMap:\n            name: dashboard-v1\n        - name: dashboard-v2\n          configMap:\n            name: dashboard-v2\n        - name: flagger-v1\n          configMap:\n            name: flagger-v1",
          "schema_version": 1,
          "attributes": {
            "api_version": "apps/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/apps/v1/namespaces/monitoring/deployments/grafana",
            "ignore_fields": null,
            "kind": "Deployment",
            "live_manifest_incluster": "e2433d4bde68902603aaea0ac6abc31538e1a756142392273ae43978b8642b3d",
            "live_uid": "b407668a-b195-4a56-b66f-432cd8497b65",
            "name": "grafana",
            "namespace": "monitoring",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "b407668a-b195-4a56-b66f-432cd8497b65",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: apps/v1\nkind: Deployment\nmetadata:\n  namespace: monitoring\n  name: grafana\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      securityContext:\n        fsGroup: 472\n        runAsUser: 472\n      containers:\n        - name: grafana\n          image: grafana/grafana:11.4.0\n          imagePullPolicy: IfNotPresent\n          volumeMounts:\n            - name: config\n              mountPath: \"/etc/grafana/grafana.ini\"\n              subPath: grafana.ini\n            - name: datasources\n              mountPath: \"/etc/grafana/provisioning/datasources/datasources.yaml\"\n              subPath: datasources.yaml\n            - name: dashboards\n              mountPath: \"/etc/grafana/provisioning/dashboards/dashboardproviders.yaml\"\n              subPath: dashboardproviders.yaml\n            - name: dashboard-v1\n              mountPath: \"/var/lib/grafana/dashboards/kubernetes/dashboard-v1.json\"\n              subPath: dashboard-v1.json\n            - name: dashboard-v2\n              mountPath: \"/var/lib/grafana/dashboards/kubernetes/dashboard-v2.json\"\n              subPath: dashboard-v2.json\n            - name: flagger-v1\n              mountPath: \"/var/lib/grafana/dashboards/kubernetes/flagger-v1.json\"\n              subPath: flagger-v1.json\n          ports:\n            - name: grafana\n              containerPort: 3000\n              protocol: TCP\n          env:\n            - name: GF_SECURITY_ADMIN_USER\n              valueFrom:\n                secretKeyRef:\n                  name: grafana\n                  key: admin-user\n            - name: GF_SECURITY_ADMIN_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: grafana\n                  key: admin-password\n          livenessProbe:\n            failureThreshold: 10\n            httpGet:\n              path: /api/health\n              port: 3000\n            initialDelaySeconds: 60\n            timeoutSeconds: 30\n          readinessProbe:\n            httpGet:\n              path: /api/health\n              port: 3000\n          resources:\n            requests:\n              cpu: 500m\n              memory: 512Mi\n            limits:\n              cpu: 2000m\n              memory: 2Gi\n      volumes:\n        - name: config\n          configMap:\n            name: grafana\n        - name: datasources\n          configMap:\n            name: datasources\n        - name: dashboards\n          configMap:\n            name: dashboards\n        - name: dashboard-v1\n          configMap:\n            name: dashboard-v1\n        - name: dashboard-v2\n          configMap:\n            name: dashboard-v2\n        - name: flagger-v1\n          configMap:\n            name: flagger-v1",
            "yaml_body_parsed": "apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: grafana\n  namespace: monitoring\nspec:\n  replicas: 1\n  selector:\n    matchLabels:\n      app: grafana\n  strategy:\n    type: Recreate\n  template:\n    metadata:\n      labels:\n        app: grafana\n    spec:\n      containers:\n      - env:\n        - name: GF_SECURITY_ADMIN_USER\n          valueFrom:\n            secretKeyRef:\n              key: admin-user\n              name: grafana\n        - name: GF_SECURITY_ADMIN_PASSWORD\n          valueFrom:\n            secretKeyRef:\n              key: admin-password\n              name: grafana\n        image: grafana/grafana:11.4.0\n        imagePullPolicy: IfNotPresent\n        livenessProbe:\n          failureThreshold: 10\n          httpGet:\n            path: /api/health\n            port: 3000\n          initialDelaySeconds: 60\n          timeoutSeconds: 30\n        name: grafana\n        ports:\n        - containerPort: 3000\n          name: grafana\n          protocol: TCP\n        readinessProbe:\n          httpGet:\n            path: /api/health\n            port: 3000\n        resources:\n          limits:\n            cpu: 2000m\n            memory: 2Gi\n          requests:\n            cpu: 500m\n            memory: 512Mi\n        volumeMounts:\n        - mountPath: /etc/grafana/grafana.ini\n          name: config\n          subPath: grafana.ini\n        - mountPath: /etc/grafana/provisioning/datasources/datasources.yaml\n          name: datasources\n          subPath: datasources.yaml\n        - mountPath: /etc/grafana/provisioning/dashboards/dashboardproviders.yaml\n          name: dashboards\n          subPath: dashboardproviders.yaml\n        - mountPath: /var/lib/grafana/dashboards/kubernetes/dashboard-v1.json\n          name: dashboard-v1\n          subPath: dashboard-v1.json\n        - mountPath: /var/lib/grafana/dashboards/kubernetes/dashboard-v2.json\n          name: dashboard-v2\n          subPath: dashboard-v2.json\n        - mountPath: /var/lib/grafana/dashboards/kubernetes/flagger-v1.json\n          name: flagger-v1\n          subPath: flagger-v1.json\n      securityContext:\n        fsGroup: 472\n        runAsUser: 472\n      volumes:\n      - configMap:\n          name: grafana\n        name: config\n      - configMap:\n          name: datasources\n        name: datasources\n      - configMap:\n          name: dashboards\n        name: dashboards\n      - configMap:\n          name: dashboard-v1\n        name: dashboard-v1\n      - configMap:\n          name: dashboard-v2\n        name: dashboard-v2\n      - configMap:\n          name: flagger-v1\n        name: flagger-v1\n",
            "yaml_incluster": "e2433d4bde68902603aaea0ac6abc31538e1a756142392273ae43978b8642b3d"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.grafana",
            "data.kubectl_path_documents.grafana_dashboards",
            "helm_release.prometheus_operator_crds",
            "kubectl_manifest.grafana_dashboards"
          ]
        },
        {
          "index_key": "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: datasources\n  namespace: monitoring\ndata:\n  datasources.yaml: |\n    apiVersion: 1\n    datasources:\n    - name: Main\n      type: prometheus\n      url: http://prometheus-operated.monitoring:9090\n      isDefault: false\n      jsonData:\n        manageAlerts: false",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/monitoring/configmaps/datasources",
            "ignore_fields": null,
            "kind": "ConfigMap",
            "live_manifest_incluster": "3d2cc746fac134c128daa29f14e3b0b18e50bb94a1533ea77d0df26deb974d41",
            "live_uid": "31540d24-cf3d-4544-bc48-2123a96aa358",
            "name": "datasources",
            "namespace": "monitoring",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "31540d24-cf3d-4544-bc48-2123a96aa358",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: datasources\n  namespace: monitoring\ndata:\n  datasources.yaml: |\n    apiVersion: 1\n    datasources:\n    - name: Main\n      type: prometheus\n      url: http://prometheus-operated.monitoring:9090\n      isDefault: false\n      jsonData:\n        manageAlerts: false",
            "yaml_body_parsed": "apiVersion: v1\ndata:\n  datasources.yaml: |-\n    apiVersion: 1\n    datasources:\n    - name: Main\n      type: prometheus\n      url: http://prometheus-operated.monitoring:9090\n      isDefault: false\n      jsonData:\n        manageAlerts: false\nkind: ConfigMap\nmetadata:\n  name: datasources\n  namespace: monitoring\n",
            "yaml_incluster": "3d2cc746fac134c128daa29f14e3b0b18e50bb94a1533ea77d0df26deb974d41"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.grafana",
            "data.kubectl_path_documents.grafana_dashboards",
            "helm_release.prometheus_operator_crds",
            "kubectl_manifest.grafana_dashboards"
          ]
        },
        {
          "index_key": "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: dashboards\ndata:\n  dashboardproviders.yaml: |-\n    apiVersion: 1\n    providers:\n    - disableDeletion: false\n      editable: false\n      folder: Kubernetes\n      name: kubernetes\n      options:\n        path: /var/lib/grafana/dashboards/kubernetes\n      orgId: 1\n      type: file",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/monitoring/configmaps/dashboards",
            "ignore_fields": null,
            "kind": "ConfigMap",
            "live_manifest_incluster": "ad2c0e30d93161a4143e55578f4b5b01bcd4cf2e7c6900d1c98a47f4a8a24e68",
            "live_uid": "19a250ca-9630-42e2-81c5-f4127ac7c69d",
            "name": "dashboards",
            "namespace": "monitoring",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "19a250ca-9630-42e2-81c5-f4127ac7c69d",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: dashboards\ndata:\n  dashboardproviders.yaml: |-\n    apiVersion: 1\n    providers:\n    - disableDeletion: false\n      editable: false\n      folder: Kubernetes\n      name: kubernetes\n      options:\n        path: /var/lib/grafana/dashboards/kubernetes\n      orgId: 1\n      type: file",
            "yaml_body_parsed": "apiVersion: v1\ndata:\n  dashboardproviders.yaml: |-\n    apiVersion: 1\n    providers:\n    - disableDeletion: false\n      editable: false\n      folder: Kubernetes\n      name: kubernetes\n      options:\n        path: /var/lib/grafana/dashboards/kubernetes\n      orgId: 1\n      type: file\nkind: ConfigMap\nmetadata:\n  name: dashboards\n  namespace: monitoring\n",
            "yaml_incluster": "ad2c0e30d93161a4143e55578f4b5b01bcd4cf2e7c6900d1c98a47f4a8a24e68"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.grafana",
            "data.kubectl_path_documents.grafana_dashboards",
            "helm_release.prometheus_operator_crds",
            "kubectl_manifest.grafana_dashboards"
          ]
        },
        {
          "index_key": "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: grafana\ndata:\n  grafana.ini: |\n    [analytics]\n    reporting_enabled = false\n    check_for_updates = true\n\n    [grafana_net]\n    url = https://grafana.net\n\n    [log]\n    mode = console\n\n    [paths]\n    data = /var/lib/grafana/data\n    logs = /var/log/grafana\n    plugins = /var/lib/grafana/plugins\n    provisioning = /etc/grafana/provisioning\n\n    [server]\n    root_url = \"https://my-grafana.example.pvt\"\n\n    [auth.anonymous]\n    enabled = false\n\n    [metrics]\n    enabled = false\n    disable_total_stats = true",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/monitoring/configmaps/grafana",
            "ignore_fields": null,
            "kind": "ConfigMap",
            "live_manifest_incluster": "844a45422999105f966e7d284cfb92d761ccdc04de155a53e13397fb3074a794",
            "live_uid": "300196db-a9c6-473f-a9f3-42542697a1f2",
            "name": "grafana",
            "namespace": "monitoring",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "300196db-a9c6-473f-a9f3-42542697a1f2",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: grafana\ndata:\n  grafana.ini: |\n    [analytics]\n    reporting_enabled = false\n    check_for_updates = true\n\n    [grafana_net]\n    url = https://grafana.net\n\n    [log]\n    mode = console\n\n    [paths]\n    data = /var/lib/grafana/data\n    logs = /var/log/grafana\n    plugins = /var/lib/grafana/plugins\n    provisioning = /etc/grafana/provisioning\n\n    [server]\n    root_url = \"https://my-grafana.example.pvt\"\n\n    [auth.anonymous]\n    enabled = false\n\n    [metrics]\n    enabled = false\n    disable_total_stats = true",
            "yaml_body_parsed": "apiVersion: v1\ndata:\n  grafana.ini: |-\n    [analytics]\n    reporting_enabled = false\n    check_for_updates = true\n\n    [grafana_net]\n    url = https://grafana.net\n\n    [log]\n    mode = console\n\n    [paths]\n    data = /var/lib/grafana/data\n    logs = /var/log/grafana\n    plugins = /var/lib/grafana/plugins\n    provisioning = /etc/grafana/provisioning\n\n    [server]\n    root_url = \"https://my-grafana.example.pvt\"\n\n    [auth.anonymous]\n    enabled = false\n\n    [metrics]\n    enabled = false\n    disable_total_stats = true\nkind: ConfigMap\nmetadata:\n  name: grafana\n  namespace: monitoring\n",
            "yaml_incluster": "844a45422999105f966e7d284cfb92d761ccdc04de155a53e13397fb3074a794"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.grafana",
            "data.kubectl_path_documents.grafana_dashboards",
            "helm_release.prometheus_operator_crds",
            "kubectl_manifest.grafana_dashboards"
          ]
        },
        {
          "index_key": "---\napiVersion: v1\nkind: Secret\nmetadata:\n  namespace: monitoring\n  name: grafana\ntype: Opaque\ndata:\n  admin-user: \"YWRtaW4=\"\n  admin-password: \"ZGV2b3BzMTIz\"",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/monitoring/secrets/grafana",
            "ignore_fields": null,
            "kind": "Secret",
            "live_manifest_incluster": "3ef7159db2384dc6618bb287c2bdeb986648df0fba1303c44950c9e387a9b1d3",
            "live_uid": "2853bf62-52d4-4a1e-bd47-0cecf3380527",
            "name": "grafana",
            "namespace": "monitoring",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "2853bf62-52d4-4a1e-bd47-0cecf3380527",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: v1\nkind: Secret\nmetadata:\n  namespace: monitoring\n  name: grafana\ntype: Opaque\ndata:\n  admin-user: \"YWRtaW4=\"\n  admin-password: \"ZGV2b3BzMTIz\"",
            "yaml_body_parsed": "apiVersion: v1\ndata: (sensitive value)\nkind: Secret\nmetadata:\n  name: grafana\n  namespace: monitoring\ntype: Opaque\n",
            "yaml_incluster": "3ef7159db2384dc6618bb287c2bdeb986648df0fba1303c44950c9e387a9b1d3"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.grafana",
            "data.kubectl_path_documents.grafana_dashboards",
            "helm_release.prometheus_operator_crds",
            "kubectl_manifest.grafana_dashboards"
          ]
        },
        {
          "index_key": "---\napiVersion: v1\nkind: Service\nmetadata:\n  namespace: monitoring\n  name: grafana\nspec:\n  type: LoadBalancer\n  ports:\n    - name: service\n      port: 80\n      targetPort: grafana\n      protocol: TCP\n  selector:\n    app: grafana",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/monitoring/services/grafana",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "326a36851b065a505944058b5e76d4880f98b3be95e6c60586aa2681e9428ca5",
            "live_uid": "1af23d24-93b3-4b69-a875-77dddc074650",
            "name": "grafana",
            "namespace": "monitoring",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "1af23d24-93b3-4b69-a875-77dddc074650",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: v1\nkind: Service\nmetadata:\n  namespace: monitoring\n  name: grafana\nspec:\n  type: LoadBalancer\n  ports:\n    - name: service\n      port: 80\n      targetPort: grafana\n      protocol: TCP\n  selector:\n    app: grafana",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  name: grafana\n  namespace: monitoring\nspec:\n  ports:\n  - name: service\n    port: 80\n    protocol: TCP\n    targetPort: grafana\n  selector:\n    app: grafana\n  type: LoadBalancer\n",
            "yaml_incluster": "326a36851b065a505944058b5e76d4880f98b3be95e6c60586aa2681e9428ca5"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.grafana",
            "data.kubectl_path_documents.grafana_dashboards",
            "helm_release.prometheus_operator_crds",
            "kubectl_manifest.grafana_dashboards"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "grafana_dashboards",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "index_key": "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: dashboard-v1\ndata:\n  dashboard-v1.json: |\n    {\n        \"annotations\": {\n            \"list\": [\n                {\n                    \"builtIn\": 1,\n                    \"datasource\": {\n                        \"type\": \"grafana\",\n                        \"uid\": \"-- Grafana --\"\n                    },\n                    \"enable\": true,\n                    \"hide\": true,\n                    \"iconColor\": \"rgba(0, 211, 255, 1)\",\n                    \"name\": \"Annotations \u0026 Alerts\",\n                    \"target\": {\n                        \"limit\": 100,\n                        \"matchAny\": false,\n                        \"tags\": [],\n                        \"type\": \"dashboard\"\n                    },\n                    \"type\": \"dashboard\"\n                }\n            ]\n        },\n        \"editable\": true,\n        \"fiscalYearStartMonth\": 0,\n        \"graphTooltip\": 0,\n        \"id\": 1,\n        \"links\": [],\n        \"liveNow\": false,\n        \"panels\": [\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"fixedColor\": \"green\",\n                            \"mode\": \"fixed\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": true,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"dashed\"\n                            }\n                        },\n                        \"decimals\": 1,\n                        \"mappings\": [],\n                        \"max\": 1,\n                        \"min\": 0,\n                        \"thresholds\": {\n                            \"mode\": \"percentage\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 90\n                                }\n                            ]\n                        },\n                        \"unit\": \"percentunit\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 12,\n                    \"x\": 0,\n                    \"y\": 0\n                },\n                \"id\": 5,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"PEB814BE3CA3B78C0\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\"}[1m]))\",\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"Availability (non-4|5xx responses)\",\n                \"type\": \"timeseries\"\n            },\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"mode\": \"palette-classic\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": false,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"off\"\n                            }\n                        },\n                        \"mappings\": [],\n                        \"max\": 4,\n                        \"min\": 0,\n                        \"thresholds\": {\n                            \"mode\": \"absolute\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"green\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 80\n                                }\n                            ]\n                        },\n                        \"unit\": \"s\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 12,\n                    \"x\": 12,\n                    \"y\": 0\n                },\n                \"id\": 3,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true,\n                        \"sortBy\": \"Last *\",\n                        \"sortDesc\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"1_j4Lb87z\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp\\\"}[1m])) by (le))\",\n                        \"instant\": false,\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"Latency - p95\",\n                \"type\": \"timeseries\"\n            },\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"mode\": \"palette-classic\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": false,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"off\"\n                            }\n                        },\n                        \"mappings\": [],\n                        \"thresholds\": {\n                            \"mode\": \"absolute\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"green\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 80\n                                }\n                            ]\n                        },\n                        \"unit\": \"reqps\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 24,\n                    \"x\": 0,\n                    \"y\": 6\n                },\n                \"id\": 6,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true,\n                        \"sortBy\": \"Last *\",\n                        \"sortDesc\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"PEB814BE3CA3B78C0\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\"}[1m]))\",\n                        \"instant\": false,\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"RPS\",\n                \"type\": \"timeseries\"\n            }\n        ],\n        \"refresh\": \"5s\",\n        \"schemaVersion\": 38,\n        \"style\": \"dark\",\n        \"tags\": [],\n        \"templating\": {\n            \"list\": []\n        },\n        \"time\": {\n            \"from\": \"now-15m\",\n            \"to\": \"now\"\n        },\n        \"timepicker\": {},\n        \"timezone\": \"\",\n        \"title\": \"Latency \u0026 Availability \u0026 RPS\",\n        \"uid\": \"71632rdf82g3bf\",\n        \"version\": 3,\n        \"weekStart\": \"\"\n    }",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/monitoring/configmaps/dashboard-v1",
            "ignore_fields": null,
            "kind": "ConfigMap",
            "live_manifest_incluster": "4b6709c6a6c59922caef507cf2d73ed04deebd04a23e6eb02c6cab90373b0fdd",
            "live_uid": "81397a36-4636-4e58-a77f-5db84719793b",
            "name": "dashboard-v1",
            "namespace": "monitoring",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "81397a36-4636-4e58-a77f-5db84719793b",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: dashboard-v1\ndata:\n  dashboard-v1.json: |\n    {\n        \"annotations\": {\n            \"list\": [\n                {\n                    \"builtIn\": 1,\n                    \"datasource\": {\n                        \"type\": \"grafana\",\n                        \"uid\": \"-- Grafana --\"\n                    },\n                    \"enable\": true,\n                    \"hide\": true,\n                    \"iconColor\": \"rgba(0, 211, 255, 1)\",\n                    \"name\": \"Annotations \u0026 Alerts\",\n                    \"target\": {\n                        \"limit\": 100,\n                        \"matchAny\": false,\n                        \"tags\": [],\n                        \"type\": \"dashboard\"\n                    },\n                    \"type\": \"dashboard\"\n                }\n            ]\n        },\n        \"editable\": true,\n        \"fiscalYearStartMonth\": 0,\n        \"graphTooltip\": 0,\n        \"id\": 1,\n        \"links\": [],\n        \"liveNow\": false,\n        \"panels\": [\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"fixedColor\": \"green\",\n                            \"mode\": \"fixed\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": true,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"dashed\"\n                            }\n                        },\n                        \"decimals\": 1,\n                        \"mappings\": [],\n                        \"max\": 1,\n                        \"min\": 0,\n                        \"thresholds\": {\n                            \"mode\": \"percentage\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 90\n                                }\n                            ]\n                        },\n                        \"unit\": \"percentunit\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 12,\n                    \"x\": 0,\n                    \"y\": 0\n                },\n                \"id\": 5,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"PEB814BE3CA3B78C0\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\"}[1m]))\",\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"Availability (non-4|5xx responses)\",\n                \"type\": \"timeseries\"\n            },\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"mode\": \"palette-classic\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": false,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"off\"\n                            }\n                        },\n                        \"mappings\": [],\n                        \"max\": 4,\n                        \"min\": 0,\n                        \"thresholds\": {\n                            \"mode\": \"absolute\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"green\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 80\n                                }\n                            ]\n                        },\n                        \"unit\": \"s\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 12,\n                    \"x\": 12,\n                    \"y\": 0\n                },\n                \"id\": 3,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true,\n                        \"sortBy\": \"Last *\",\n                        \"sortDesc\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"1_j4Lb87z\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp\\\"}[1m])) by (le))\",\n                        \"instant\": false,\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"Latency - p95\",\n                \"type\": \"timeseries\"\n            },\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"mode\": \"palette-classic\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": false,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"off\"\n                            }\n                        },\n                        \"mappings\": [],\n                        \"thresholds\": {\n                            \"mode\": \"absolute\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"green\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 80\n                                }\n                            ]\n                        },\n                        \"unit\": \"reqps\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 24,\n                    \"x\": 0,\n                    \"y\": 6\n                },\n                \"id\": 6,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true,\n                        \"sortBy\": \"Last *\",\n                        \"sortDesc\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"PEB814BE3CA3B78C0\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\"}[1m]))\",\n                        \"instant\": false,\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"RPS\",\n                \"type\": \"timeseries\"\n            }\n        ],\n        \"refresh\": \"5s\",\n        \"schemaVersion\": 38,\n        \"style\": \"dark\",\n        \"tags\": [],\n        \"templating\": {\n            \"list\": []\n        },\n        \"time\": {\n            \"from\": \"now-15m\",\n            \"to\": \"now\"\n        },\n        \"timepicker\": {},\n        \"timezone\": \"\",\n        \"title\": \"Latency \u0026 Availability \u0026 RPS\",\n        \"uid\": \"71632rdf82g3bf\",\n        \"version\": 3,\n        \"weekStart\": \"\"\n    }",
            "yaml_body_parsed": "apiVersion: v1\ndata:\n  dashboard-v1.json: |-\n    {\n        \"annotations\": {\n            \"list\": [\n                {\n                    \"builtIn\": 1,\n                    \"datasource\": {\n                        \"type\": \"grafana\",\n                        \"uid\": \"-- Grafana --\"\n                    },\n                    \"enable\": true,\n                    \"hide\": true,\n                    \"iconColor\": \"rgba(0, 211, 255, 1)\",\n                    \"name\": \"Annotations \u0026 Alerts\",\n                    \"target\": {\n                        \"limit\": 100,\n                        \"matchAny\": false,\n                        \"tags\": [],\n                        \"type\": \"dashboard\"\n                    },\n                    \"type\": \"dashboard\"\n                }\n            ]\n        },\n        \"editable\": true,\n        \"fiscalYearStartMonth\": 0,\n        \"graphTooltip\": 0,\n        \"id\": 1,\n        \"links\": [],\n        \"liveNow\": false,\n        \"panels\": [\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"fixedColor\": \"green\",\n                            \"mode\": \"fixed\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": true,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"dashed\"\n                            }\n                        },\n                        \"decimals\": 1,\n                        \"mappings\": [],\n                        \"max\": 1,\n                        \"min\": 0,\n                        \"thresholds\": {\n                            \"mode\": \"percentage\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 90\n                                }\n                            ]\n                        },\n                        \"unit\": \"percentunit\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 12,\n                    \"x\": 0,\n                    \"y\": 0\n                },\n                \"id\": 5,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"PEB814BE3CA3B78C0\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\"}[1m]))\",\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"Availability (non-4|5xx responses)\",\n                \"type\": \"timeseries\"\n            },\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"mode\": \"palette-classic\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": false,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"off\"\n                            }\n                        },\n                        \"mappings\": [],\n                        \"max\": 4,\n                        \"min\": 0,\n                        \"thresholds\": {\n                            \"mode\": \"absolute\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"green\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 80\n                                }\n                            ]\n                        },\n                        \"unit\": \"s\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 12,\n                    \"x\": 12,\n                    \"y\": 0\n                },\n                \"id\": 3,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true,\n                        \"sortBy\": \"Last *\",\n                        \"sortDesc\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"1_j4Lb87z\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp\\\"}[1m])) by (le))\",\n                        \"instant\": false,\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"Latency - p95\",\n                \"type\": \"timeseries\"\n            },\n            {\n                \"datasource\": {\n                    \"type\": \"prometheus\",\n                    \"uid\": \"PEB814BE3CA3B78C0\"\n                },\n                \"fieldConfig\": {\n                    \"defaults\": {\n                        \"color\": {\n                            \"mode\": \"palette-classic\"\n                        },\n                        \"custom\": {\n                            \"axisCenteredZero\": false,\n                            \"axisColorMode\": \"text\",\n                            \"axisLabel\": \"\",\n                            \"axisPlacement\": \"auto\",\n                            \"barAlignment\": 0,\n                            \"drawStyle\": \"line\",\n                            \"fillOpacity\": 50,\n                            \"gradientMode\": \"opacity\",\n                            \"hideFrom\": {\n                                \"legend\": false,\n                                \"tooltip\": false,\n                                \"viz\": false\n                            },\n                            \"lineInterpolation\": \"smooth\",\n                            \"lineWidth\": 2,\n                            \"pointSize\": 5,\n                            \"scaleDistribution\": {\n                                \"type\": \"linear\"\n                            },\n                            \"showPoints\": \"auto\",\n                            \"spanNulls\": false,\n                            \"stacking\": {\n                                \"group\": \"A\",\n                                \"mode\": \"none\"\n                            },\n                            \"thresholdsStyle\": {\n                                \"mode\": \"off\"\n                            }\n                        },\n                        \"mappings\": [],\n                        \"thresholds\": {\n                            \"mode\": \"absolute\",\n                            \"steps\": [\n                                {\n                                    \"color\": \"green\",\n                                    \"value\": null\n                                },\n                                {\n                                    \"color\": \"red\",\n                                    \"value\": 80\n                                }\n                            ]\n                        },\n                        \"unit\": \"reqps\"\n                    },\n                    \"overrides\": []\n                },\n                \"gridPos\": {\n                    \"h\": 6,\n                    \"w\": 24,\n                    \"x\": 0,\n                    \"y\": 6\n                },\n                \"id\": 6,\n                \"options\": {\n                    \"legend\": {\n                        \"calcs\": [\n                            \"lastNotNull\"\n                        ],\n                        \"displayMode\": \"table\",\n                        \"placement\": \"right\",\n                        \"showLegend\": true,\n                        \"sortBy\": \"Last *\",\n                        \"sortDesc\": true\n                    },\n                    \"tooltip\": {\n                        \"mode\": \"single\",\n                        \"sort\": \"none\"\n                    }\n                },\n                \"targets\": [\n                    {\n                        \"datasource\": {\n                            \"type\": \"prometheus\",\n                            \"uid\": \"PEB814BE3CA3B78C0\"\n                        },\n                        \"editorMode\": \"code\",\n                        \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp\\\"}[1m]))\",\n                        \"instant\": false,\n                        \"legendFormat\": \"All\",\n                        \"range\": true,\n                        \"refId\": \"A\"\n                    }\n                ],\n                \"title\": \"RPS\",\n                \"type\": \"timeseries\"\n            }\n        ],\n        \"refresh\": \"5s\",\n        \"schemaVersion\": 38,\n        \"style\": \"dark\",\n        \"tags\": [],\n        \"templating\": {\n            \"list\": []\n        },\n        \"time\": {\n            \"from\": \"now-15m\",\n            \"to\": \"now\"\n        },\n        \"timepicker\": {},\n        \"timezone\": \"\",\n        \"title\": \"Latency \u0026 Availability \u0026 RPS\",\n        \"uid\": \"71632rdf82g3bf\",\n        \"version\": 3,\n        \"weekStart\": \"\"\n    }\nkind: ConfigMap\nmetadata:\n  name: dashboard-v1\n  namespace: monitoring\n",
            "yaml_incluster": "4b6709c6a6c59922caef507cf2d73ed04deebd04a23e6eb02c6cab90373b0fdd"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.grafana_dashboards",
            "helm_release.prometheus_operator_crds"
          ]
        },
        {
          "index_key": "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: dashboard-v2\ndata:\n  dashboard-v2.json: |\n    {\n      \"annotations\": {\n        \"list\": [\n          {\n            \"builtIn\": 1,\n            \"datasource\": {\n              \"type\": \"grafana\",\n              \"uid\": \"-- Grafana --\"\n            },\n            \"enable\": true,\n            \"hide\": true,\n            \"iconColor\": \"rgba(0, 211, 255, 1)\",\n            \"name\": \"Annotations \u0026 Alerts\",\n            \"target\": {\n              \"limit\": 100,\n              \"matchAny\": false,\n              \"tags\": [],\n              \"type\": \"dashboard\"\n            },\n            \"type\": \"dashboard\"\n          }\n        ]\n      },\n      \"editable\": true,\n      \"fiscalYearStartMonth\": 0,\n      \"graphTooltip\": 0,\n      \"id\": 3,\n      \"links\": [],\n      \"liveNow\": false,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"green\",\n                \"mode\": \"fixed\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": true,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"dashed\"\n                }\n              },\n              \"decimals\": 1,\n              \"mappings\": [],\n              \"max\": 1,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"percentage\",\n                \"steps\": [\n                  {\n                    \"color\": \"red\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 90\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"Canary\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"color\",\n                    \"value\": {\n                      \"mode\": \"palette-classic\"\n                    }\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 0\n          },\n          \"id\": 5,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\"}[1m]))\",\n              \"legendFormat\": \"Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\"}[1m]))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Availability (non-4|5xx responses)\",\n          \"type\": \"timeseries\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": false,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"off\"\n                }\n              },\n              \"mappings\": [],\n              \"max\": 4,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"s\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 0\n          },\n          \"id\": 3,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"sortBy\": \"Last *\",\n              \"sortDesc\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"1_j4Lb87z\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp-control\\\"}[1m])) by (le))\",\n              \"instant\": false,\n              \"legendFormat\": \"p95 - Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp-canary\\\"}[1m])) by (le))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"p95 - Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Latency\",\n          \"type\": \"timeseries\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": false,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"off\"\n                }\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"reqps\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 6\n          },\n          \"id\": 6,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"sortBy\": \"Last *\",\n              \"sortDesc\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\"}[1m]))\",\n              \"instant\": false,\n              \"legendFormat\": \"Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\"}[1m]))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"RPS\",\n          \"type\": \"timeseries\"\n        }\n      ],\n      \"refresh\": \"5s\",\n      \"schemaVersion\": 38,\n      \"style\": \"dark\",\n      \"tags\": [],\n      \"templating\": {\n        \"list\": []\n      },\n      \"time\": {\n        \"from\": \"now-15m\",\n        \"to\": \"now\"\n      },\n      \"timepicker\": {},\n      \"timezone\": \"\",\n      \"title\": \"Latency \u0026 Availability \u0026 RPS (Canary)\",\n      \"uid\": \"asd76t13y9hfdn\",\n      \"version\": 1,\n      \"weekStart\": \"\"\n    }",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/monitoring/configmaps/dashboard-v2",
            "ignore_fields": null,
            "kind": "ConfigMap",
            "live_manifest_incluster": "3ead1b2a411c3bf4cbcb05dd0ab50645476df51104b3469fb9765e5374d46ba8",
            "live_uid": "9d2d1505-061b-49ae-9243-ae706983dab3",
            "name": "dashboard-v2",
            "namespace": "monitoring",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "9d2d1505-061b-49ae-9243-ae706983dab3",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: dashboard-v2\ndata:\n  dashboard-v2.json: |\n    {\n      \"annotations\": {\n        \"list\": [\n          {\n            \"builtIn\": 1,\n            \"datasource\": {\n              \"type\": \"grafana\",\n              \"uid\": \"-- Grafana --\"\n            },\n            \"enable\": true,\n            \"hide\": true,\n            \"iconColor\": \"rgba(0, 211, 255, 1)\",\n            \"name\": \"Annotations \u0026 Alerts\",\n            \"target\": {\n              \"limit\": 100,\n              \"matchAny\": false,\n              \"tags\": [],\n              \"type\": \"dashboard\"\n            },\n            \"type\": \"dashboard\"\n          }\n        ]\n      },\n      \"editable\": true,\n      \"fiscalYearStartMonth\": 0,\n      \"graphTooltip\": 0,\n      \"id\": 3,\n      \"links\": [],\n      \"liveNow\": false,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"green\",\n                \"mode\": \"fixed\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": true,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"dashed\"\n                }\n              },\n              \"decimals\": 1,\n              \"mappings\": [],\n              \"max\": 1,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"percentage\",\n                \"steps\": [\n                  {\n                    \"color\": \"red\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 90\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"Canary\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"color\",\n                    \"value\": {\n                      \"mode\": \"palette-classic\"\n                    }\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 0\n          },\n          \"id\": 5,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\"}[1m]))\",\n              \"legendFormat\": \"Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\"}[1m]))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Availability (non-4|5xx responses)\",\n          \"type\": \"timeseries\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": false,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"off\"\n                }\n              },\n              \"mappings\": [],\n              \"max\": 4,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"s\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 0\n          },\n          \"id\": 3,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"sortBy\": \"Last *\",\n              \"sortDesc\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"1_j4Lb87z\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp-control\\\"}[1m])) by (le))\",\n              \"instant\": false,\n              \"legendFormat\": \"p95 - Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp-canary\\\"}[1m])) by (le))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"p95 - Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Latency\",\n          \"type\": \"timeseries\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": false,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"off\"\n                }\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"reqps\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 6\n          },\n          \"id\": 6,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"sortBy\": \"Last *\",\n              \"sortDesc\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\"}[1m]))\",\n              \"instant\": false,\n              \"legendFormat\": \"Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\"}[1m]))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"RPS\",\n          \"type\": \"timeseries\"\n        }\n      ],\n      \"refresh\": \"5s\",\n      \"schemaVersion\": 38,\n      \"style\": \"dark\",\n      \"tags\": [],\n      \"templating\": {\n        \"list\": []\n      },\n      \"time\": {\n        \"from\": \"now-15m\",\n        \"to\": \"now\"\n      },\n      \"timepicker\": {},\n      \"timezone\": \"\",\n      \"title\": \"Latency \u0026 Availability \u0026 RPS (Canary)\",\n      \"uid\": \"asd76t13y9hfdn\",\n      \"version\": 1,\n      \"weekStart\": \"\"\n    }",
            "yaml_body_parsed": "apiVersion: v1\ndata:\n  dashboard-v2.json: |-\n    {\n      \"annotations\": {\n        \"list\": [\n          {\n            \"builtIn\": 1,\n            \"datasource\": {\n              \"type\": \"grafana\",\n              \"uid\": \"-- Grafana --\"\n            },\n            \"enable\": true,\n            \"hide\": true,\n            \"iconColor\": \"rgba(0, 211, 255, 1)\",\n            \"name\": \"Annotations \u0026 Alerts\",\n            \"target\": {\n              \"limit\": 100,\n              \"matchAny\": false,\n              \"tags\": [],\n              \"type\": \"dashboard\"\n            },\n            \"type\": \"dashboard\"\n          }\n        ]\n      },\n      \"editable\": true,\n      \"fiscalYearStartMonth\": 0,\n      \"graphTooltip\": 0,\n      \"id\": 3,\n      \"links\": [],\n      \"liveNow\": false,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"green\",\n                \"mode\": \"fixed\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": true,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"dashed\"\n                }\n              },\n              \"decimals\": 1,\n              \"mappings\": [],\n              \"max\": 1,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"percentage\",\n                \"steps\": [\n                  {\n                    \"color\": \"red\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 90\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": [\n              {\n                \"matcher\": {\n                  \"id\": \"byName\",\n                  \"options\": \"Canary\"\n                },\n                \"properties\": [\n                  {\n                    \"id\": \"color\",\n                    \"value\": {\n                      \"mode\": \"palette-classic\"\n                    }\n                  }\n                ]\n              }\n            ]\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 0\n          },\n          \"id\": 5,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\"}[1m]))\",\n              \"legendFormat\": \"Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\",status!~\\\"[4-5].*\\\"}[1m])) / sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\"}[1m]))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Availability (non-4|5xx responses)\",\n          \"type\": \"timeseries\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": false,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"off\"\n                }\n              },\n              \"mappings\": [],\n              \"max\": 4,\n              \"min\": 0,\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"s\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 0\n          },\n          \"id\": 3,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"sortBy\": \"Last *\",\n              \"sortDesc\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"1_j4Lb87z\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp-control\\\"}[1m])) by (le))\",\n              \"instant\": false,\n              \"legendFormat\": \"p95 - Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"histogram_quantile(0.95, sum(rate(request_duration_seconds_bucket{job=\\\"monitoring/myapp-canary\\\"}[1m])) by (le))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"p95 - Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Latency\",\n          \"type\": \"timeseries\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"mode\": \"palette-classic\"\n              },\n              \"custom\": {\n                \"axisCenteredZero\": false,\n                \"axisColorMode\": \"text\",\n                \"axisLabel\": \"\",\n                \"axisPlacement\": \"auto\",\n                \"barAlignment\": 0,\n                \"drawStyle\": \"line\",\n                \"fillOpacity\": 50,\n                \"gradientMode\": \"opacity\",\n                \"hideFrom\": {\n                  \"legend\": false,\n                  \"tooltip\": false,\n                  \"viz\": false\n                },\n                \"lineInterpolation\": \"smooth\",\n                \"lineWidth\": 2,\n                \"pointSize\": 5,\n                \"scaleDistribution\": {\n                  \"type\": \"linear\"\n                },\n                \"showPoints\": \"auto\",\n                \"spanNulls\": false,\n                \"stacking\": {\n                  \"group\": \"A\",\n                  \"mode\": \"none\"\n                },\n                \"thresholdsStyle\": {\n                  \"mode\": \"off\"\n                }\n              },\n              \"mappings\": [],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"reqps\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 24,\n            \"x\": 0,\n            \"y\": 6\n          },\n          \"id\": 6,\n          \"options\": {\n            \"legend\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"displayMode\": \"table\",\n              \"placement\": \"right\",\n              \"showLegend\": true,\n              \"sortBy\": \"Last *\",\n              \"sortDesc\": true\n            },\n            \"tooltip\": {\n              \"mode\": \"single\",\n              \"sort\": \"none\"\n            }\n          },\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-control\\\"}[1m]))\",\n              \"instant\": false,\n              \"legendFormat\": \"Control\",\n              \"range\": true,\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(rate(request_duration_seconds_count{job=\\\"monitoring/myapp-canary\\\"}[1m]))\",\n              \"hide\": false,\n              \"instant\": false,\n              \"legendFormat\": \"Canary\",\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"RPS\",\n          \"type\": \"timeseries\"\n        }\n      ],\n      \"refresh\": \"5s\",\n      \"schemaVersion\": 38,\n      \"style\": \"dark\",\n      \"tags\": [],\n      \"templating\": {\n        \"list\": []\n      },\n      \"time\": {\n        \"from\": \"now-15m\",\n        \"to\": \"now\"\n      },\n      \"timepicker\": {},\n      \"timezone\": \"\",\n      \"title\": \"Latency \u0026 Availability \u0026 RPS (Canary)\",\n      \"uid\": \"asd76t13y9hfdn\",\n      \"version\": 1,\n      \"weekStart\": \"\"\n    }\nkind: ConfigMap\nmetadata:\n  name: dashboard-v2\n  namespace: monitoring\n",
            "yaml_incluster": "3ead1b2a411c3bf4cbcb05dd0ab50645476df51104b3469fb9765e5374d46ba8"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.grafana_dashboards",
            "helm_release.prometheus_operator_crds"
          ]
        },
        {
          "index_key": "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: flagger-v1\ndata:\n  flagger-v1.json: |\n    {\n      \"annotations\": {\n        \"list\": [\n          {\n            \"builtIn\": 1,\n            \"datasource\": {\n              \"type\": \"datasource\",\n              \"uid\": \"grafana\"\n            },\n            \"enable\": true,\n            \"hide\": true,\n            \"iconColor\": \"rgba(0, 211, 255, 1)\",\n            \"name\": \"Annotations \u0026 Alerts\",\n            \"type\": \"dashboard\"\n          }\n        ]\n      },\n      \"editable\": true,\n      \"fiscalYearStartMonth\": 0,\n      \"graphTooltip\": 0,\n      \"links\": [],\n      \"liveNow\": false,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"rgb(31, 120, 193)\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"ops\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 0,\n            \"y\": 0\n          },\n          \"id\": 90,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"round(sum(rate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\"}[30s])), 0.001)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"refId\": \"A\",\n              \"step\": 4\n            }\n          ],\n          \"title\": \"Primary: Incoming Request Volume\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"rgb(31, 120, 193)\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 95\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 99\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 6,\n            \"y\": 0\n          },\n          \"id\": 98,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"mean\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\",response_code!~\\\"[4-5].*\\\"}[30s])) / sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\"}[30s]))\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Incoming Success Rate\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"#7eb26d\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"ops\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 12,\n            \"y\": 0\n          },\n          \"id\": 97,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"round(sum(rate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\"}[30s])), 0.001)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"refId\": \"A\",\n              \"step\": 4\n            }\n          ],\n          \"title\": \"Canary: Incoming Request Volume\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"#7eb26d\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 95\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 99\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 18,\n            \"y\": 0\n          },\n          \"id\": 99,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\",response_code!~\\\"[4-5].*\\\"}[30s])) / sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\"}[30s]))\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Incoming Success Rate\",\n          \"type\": \"stat\"\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 5,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 6\n          },\n          \"hiddenSeries\": false,\n          \"id\": 96,\n          \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": true,\n            \"show\": false,\n            \"total\": false,\n            \"values\": false\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"10.0.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.50, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P50\",\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.90, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P90\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.99, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P99\",\n              \"refId\": \"C\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Primary: Request Duration\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"format\": \"s\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": false\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 5,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 6\n          },\n          \"hiddenSeries\": false,\n          \"id\": 91,\n          \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": true,\n            \"show\": false,\n            \"total\": false,\n            \"values\": false\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"10.0.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.50, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P50\",\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.90, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P90\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.99, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P99\",\n              \"refId\": \"C\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Canary: Request Duration\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"format\": \"s\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": false\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        }\n      ],\n      \"refresh\": \"10s\",\n      \"schemaVersion\": 38,\n      \"style\": \"dark\",\n      \"tags\": [],\n      \"templating\": {\n        \"list\": [\n          {\n            \"current\": {\n              \"selected\": false,\n              \"text\": \"staging\",\n              \"value\": \"staging\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Namespace\",\n            \"multi\": false,\n            \"name\": \"namespace\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total) by (destination_workload_namespace) or sum(istio_tcp_sent_bytes_total) by (destination_workload_namespace))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*_namespace=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 0,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          },\n          {\n            \"current\": {\n              \"selected\": false,\n              \"text\": \"myapp-primary\",\n              \"value\": \"myapp-primary\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Primary\",\n            \"multi\": false,\n            \"name\": \"primary\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total{destination_workload_namespace=~\\\"$namespace\\\"}) by (destination_workload))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*destination_workload=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 1,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          },\n          {\n            \"current\": {\n              \"selected\": true,\n              \"text\": \"myapp\",\n              \"value\": \"myapp\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Canary\",\n            \"multi\": false,\n            \"name\": \"canary\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total{destination_workload_namespace=~\\\"$namespace\\\"}) by (destination_workload))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*destination_workload=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 1,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          }\n        ]\n      },\n      \"time\": {\n        \"from\": \"now-15m\",\n        \"to\": \"now\"\n      },\n      \"timepicker\": {\n        \"refresh_intervals\": [\n          \"5s\",\n          \"10s\",\n          \"30s\",\n          \"1m\",\n          \"5m\",\n          \"15m\",\n          \"30m\",\n          \"1h\",\n          \"2h\",\n          \"1d\"\n        ],\n        \"time_options\": [\n          \"5m\",\n          \"15m\",\n          \"1h\",\n          \"6h\",\n          \"12h\",\n          \"24h\",\n          \"2d\",\n          \"7d\",\n          \"30d\"\n        ]\n      },\n      \"timezone\": \"\",\n      \"title\": \"Istio Canary\",\n      \"uid\": \"flagger-istio\",\n      \"version\": 1,\n      \"weekStart\": \"\"\n    }",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/monitoring/configmaps/flagger-v1",
            "ignore_fields": null,
            "kind": "ConfigMap",
            "live_manifest_incluster": "3bb14d25576a0b1f07cc1a5f0a8f3dba85d383c90a228d5bf77058447def1fbb",
            "live_uid": "6edbf9ca-375c-452b-b670-a6b27a31aa03",
            "name": "flagger-v1",
            "namespace": "monitoring",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "6edbf9ca-375c-452b-b670-a6b27a31aa03",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: monitoring\n  name: flagger-v1\ndata:\n  flagger-v1.json: |\n    {\n      \"annotations\": {\n        \"list\": [\n          {\n            \"builtIn\": 1,\n            \"datasource\": {\n              \"type\": \"datasource\",\n              \"uid\": \"grafana\"\n            },\n            \"enable\": true,\n            \"hide\": true,\n            \"iconColor\": \"rgba(0, 211, 255, 1)\",\n            \"name\": \"Annotations \u0026 Alerts\",\n            \"type\": \"dashboard\"\n          }\n        ]\n      },\n      \"editable\": true,\n      \"fiscalYearStartMonth\": 0,\n      \"graphTooltip\": 0,\n      \"links\": [],\n      \"liveNow\": false,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"rgb(31, 120, 193)\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"ops\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 0,\n            \"y\": 0\n          },\n          \"id\": 90,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"round(sum(rate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\"}[30s])), 0.001)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"refId\": \"A\",\n              \"step\": 4\n            }\n          ],\n          \"title\": \"Primary: Incoming Request Volume\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"rgb(31, 120, 193)\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 95\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 99\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 6,\n            \"y\": 0\n          },\n          \"id\": 98,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"mean\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\",response_code!~\\\"[4-5].*\\\"}[30s])) / sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\"}[30s]))\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Incoming Success Rate\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"#7eb26d\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"ops\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 12,\n            \"y\": 0\n          },\n          \"id\": 97,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"round(sum(rate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\"}[30s])), 0.001)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"refId\": \"A\",\n              \"step\": 4\n            }\n          ],\n          \"title\": \"Canary: Incoming Request Volume\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"#7eb26d\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 95\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 99\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 18,\n            \"y\": 0\n          },\n          \"id\": 99,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\",response_code!~\\\"[4-5].*\\\"}[30s])) / sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\"}[30s]))\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Incoming Success Rate\",\n          \"type\": \"stat\"\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 5,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 6\n          },\n          \"hiddenSeries\": false,\n          \"id\": 96,\n          \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": true,\n            \"show\": false,\n            \"total\": false,\n            \"values\": false\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"10.0.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.50, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P50\",\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.90, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P90\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.99, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P99\",\n              \"refId\": \"C\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Primary: Request Duration\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"format\": \"s\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": false\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 5,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 6\n          },\n          \"hiddenSeries\": false,\n          \"id\": 91,\n          \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": true,\n            \"show\": false,\n            \"total\": false,\n            \"values\": false\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"10.0.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.50, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P50\",\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.90, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P90\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.99, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P99\",\n              \"refId\": \"C\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Canary: Request Duration\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"format\": \"s\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": false\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        }\n      ],\n      \"refresh\": \"10s\",\n      \"schemaVersion\": 38,\n      \"style\": \"dark\",\n      \"tags\": [],\n      \"templating\": {\n        \"list\": [\n          {\n            \"current\": {\n              \"selected\": false,\n              \"text\": \"staging\",\n              \"value\": \"staging\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Namespace\",\n            \"multi\": false,\n            \"name\": \"namespace\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total) by (destination_workload_namespace) or sum(istio_tcp_sent_bytes_total) by (destination_workload_namespace))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*_namespace=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 0,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          },\n          {\n            \"current\": {\n              \"selected\": false,\n              \"text\": \"myapp-primary\",\n              \"value\": \"myapp-primary\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Primary\",\n            \"multi\": false,\n            \"name\": \"primary\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total{destination_workload_namespace=~\\\"$namespace\\\"}) by (destination_workload))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*destination_workload=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 1,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          },\n          {\n            \"current\": {\n              \"selected\": true,\n              \"text\": \"myapp\",\n              \"value\": \"myapp\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Canary\",\n            \"multi\": false,\n            \"name\": \"canary\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total{destination_workload_namespace=~\\\"$namespace\\\"}) by (destination_workload))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*destination_workload=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 1,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          }\n        ]\n      },\n      \"time\": {\n        \"from\": \"now-15m\",\n        \"to\": \"now\"\n      },\n      \"timepicker\": {\n        \"refresh_intervals\": [\n          \"5s\",\n          \"10s\",\n          \"30s\",\n          \"1m\",\n          \"5m\",\n          \"15m\",\n          \"30m\",\n          \"1h\",\n          \"2h\",\n          \"1d\"\n        ],\n        \"time_options\": [\n          \"5m\",\n          \"15m\",\n          \"1h\",\n          \"6h\",\n          \"12h\",\n          \"24h\",\n          \"2d\",\n          \"7d\",\n          \"30d\"\n        ]\n      },\n      \"timezone\": \"\",\n      \"title\": \"Istio Canary\",\n      \"uid\": \"flagger-istio\",\n      \"version\": 1,\n      \"weekStart\": \"\"\n    }",
            "yaml_body_parsed": "apiVersion: v1\ndata:\n  flagger-v1.json: |-\n    {\n      \"annotations\": {\n        \"list\": [\n          {\n            \"builtIn\": 1,\n            \"datasource\": {\n              \"type\": \"datasource\",\n              \"uid\": \"grafana\"\n            },\n            \"enable\": true,\n            \"hide\": true,\n            \"iconColor\": \"rgba(0, 211, 255, 1)\",\n            \"name\": \"Annotations \u0026 Alerts\",\n            \"type\": \"dashboard\"\n          }\n        ]\n      },\n      \"editable\": true,\n      \"fiscalYearStartMonth\": 0,\n      \"graphTooltip\": 0,\n      \"links\": [],\n      \"liveNow\": false,\n      \"panels\": [\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"rgb(31, 120, 193)\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"ops\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 0,\n            \"y\": 0\n          },\n          \"id\": 90,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"round(sum(rate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\"}[30s])), 0.001)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"refId\": \"A\",\n              \"step\": 4\n            }\n          ],\n          \"title\": \"Primary: Incoming Request Volume\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"rgb(31, 120, 193)\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 95\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 99\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 6,\n            \"y\": 0\n          },\n          \"id\": 98,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"mean\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\",response_code!~\\\"[4-5].*\\\"}[30s])) / sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$primary\\\"}[30s]))\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Incoming Success Rate\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"#7eb26d\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"green\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"red\",\n                    \"value\": 80\n                  }\n                ]\n              },\n              \"unit\": \"ops\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 12,\n            \"y\": 0\n          },\n          \"id\": 97,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"round(sum(rate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\"}[30s])), 0.001)\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"refId\": \"A\",\n              \"step\": 4\n            }\n          ],\n          \"title\": \"Canary: Incoming Request Volume\",\n          \"type\": \"stat\"\n        },\n        {\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fieldConfig\": {\n            \"defaults\": {\n              \"color\": {\n                \"fixedColor\": \"#7eb26d\",\n                \"mode\": \"fixed\"\n              },\n              \"mappings\": [\n                {\n                  \"options\": {\n                    \"match\": \"null\",\n                    \"result\": {\n                      \"text\": \"N/A\"\n                    }\n                  },\n                  \"type\": \"special\"\n                }\n              ],\n              \"thresholds\": {\n                \"mode\": \"absolute\",\n                \"steps\": [\n                  {\n                    \"color\": \"rgba(50, 172, 45, 0.97)\",\n                    \"value\": null\n                  },\n                  {\n                    \"color\": \"rgba(237, 129, 40, 0.89)\",\n                    \"value\": 95\n                  },\n                  {\n                    \"color\": \"rgba(245, 54, 54, 0.9)\",\n                    \"value\": 99\n                  }\n                ]\n              },\n              \"unit\": \"percentunit\"\n            },\n            \"overrides\": []\n          },\n          \"gridPos\": {\n            \"h\": 6,\n            \"w\": 6,\n            \"x\": 18,\n            \"y\": 0\n          },\n          \"id\": 99,\n          \"links\": [],\n          \"maxDataPoints\": 100,\n          \"options\": {\n            \"colorMode\": \"none\",\n            \"graphMode\": \"area\",\n            \"justifyMode\": \"auto\",\n            \"orientation\": \"horizontal\",\n            \"reduceOptions\": {\n              \"calcs\": [\n                \"lastNotNull\"\n              ],\n              \"fields\": \"\",\n              \"values\": false\n            },\n            \"textMode\": \"auto\"\n          },\n          \"pluginVersion\": \"10.0.3\",\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"editorMode\": \"code\",\n              \"expr\": \"sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\",response_code!~\\\"[4-5].*\\\"}[30s])) / sum(irate(istio_requests_total{reporter=\\\"destination\\\",destination_workload_namespace=~\\\"$namespace\\\",destination_workload=~\\\"$canary\\\"}[30s]))\",\n              \"format\": \"time_series\",\n              \"intervalFactor\": 1,\n              \"range\": true,\n              \"refId\": \"B\"\n            }\n          ],\n          \"title\": \"Incoming Success Rate\",\n          \"type\": \"stat\"\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 5,\n            \"w\": 12,\n            \"x\": 0,\n            \"y\": 6\n          },\n          \"hiddenSeries\": false,\n          \"id\": 96,\n          \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": true,\n            \"show\": false,\n            \"total\": false,\n            \"values\": false\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"10.0.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.50, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P50\",\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.90, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P90\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.99, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$primary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P99\",\n              \"refId\": \"C\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Primary: Request Duration\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"format\": \"s\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": false\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        },\n        {\n          \"aliasColors\": {},\n          \"bars\": false,\n          \"dashLength\": 10,\n          \"dashes\": false,\n          \"datasource\": {\n            \"type\": \"prometheus\",\n            \"uid\": \"PEB814BE3CA3B78C0\"\n          },\n          \"fill\": 1,\n          \"fillGradient\": 0,\n          \"gridPos\": {\n            \"h\": 5,\n            \"w\": 12,\n            \"x\": 12,\n            \"y\": 6\n          },\n          \"hiddenSeries\": false,\n          \"id\": 91,\n          \"legend\": {\n            \"alignAsTable\": false,\n            \"avg\": false,\n            \"current\": false,\n            \"hideEmpty\": false,\n            \"hideZero\": false,\n            \"max\": false,\n            \"min\": false,\n            \"rightSide\": true,\n            \"show\": false,\n            \"total\": false,\n            \"values\": false\n          },\n          \"lines\": true,\n          \"linewidth\": 1,\n          \"links\": [],\n          \"nullPointMode\": \"null\",\n          \"options\": {\n            \"alertThreshold\": true\n          },\n          \"percentage\": false,\n          \"pluginVersion\": \"10.0.3\",\n          \"pointradius\": 5,\n          \"points\": false,\n          \"renderer\": \"flot\",\n          \"seriesOverrides\": [],\n          \"spaceLength\": 10,\n          \"stack\": false,\n          \"steppedLine\": false,\n          \"targets\": [\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.50, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"interval\": \"\",\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P50\",\n              \"refId\": \"A\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.90, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P90\",\n              \"refId\": \"B\"\n            },\n            {\n              \"datasource\": {\n                \"type\": \"prometheus\",\n                \"uid\": \"PEB814BE3CA3B78C0\"\n              },\n              \"expr\": \"histogram_quantile(0.99, sum(irate(istio_request_duration_milliseconds_bucket{reporter=\\\"destination\\\",destination_workload=~\\\"$canary\\\", destination_workload_namespace=~\\\"$namespace\\\"}[1m])) by (le)) / 1000\",\n              \"format\": \"time_series\",\n              \"hide\": false,\n              \"intervalFactor\": 1,\n              \"legendFormat\": \"P99\",\n              \"refId\": \"C\"\n            }\n          ],\n          \"thresholds\": [],\n          \"timeRegions\": [],\n          \"title\": \"Canary: Request Duration\",\n          \"tooltip\": {\n            \"shared\": true,\n            \"sort\": 0,\n            \"value_type\": \"individual\"\n          },\n          \"type\": \"graph\",\n          \"xaxis\": {\n            \"mode\": \"time\",\n            \"show\": true,\n            \"values\": []\n          },\n          \"yaxes\": [\n            {\n              \"format\": \"s\",\n              \"logBase\": 1,\n              \"show\": true\n            },\n            {\n              \"format\": \"short\",\n              \"logBase\": 1,\n              \"show\": false\n            }\n          ],\n          \"yaxis\": {\n            \"align\": false\n          }\n        }\n      ],\n      \"refresh\": \"10s\",\n      \"schemaVersion\": 38,\n      \"style\": \"dark\",\n      \"tags\": [],\n      \"templating\": {\n        \"list\": [\n          {\n            \"current\": {\n              \"selected\": false,\n              \"text\": \"staging\",\n              \"value\": \"staging\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Namespace\",\n            \"multi\": false,\n            \"name\": \"namespace\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total) by (destination_workload_namespace) or sum(istio_tcp_sent_bytes_total) by (destination_workload_namespace))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*_namespace=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 0,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          },\n          {\n            \"current\": {\n              \"selected\": false,\n              \"text\": \"myapp-primary\",\n              \"value\": \"myapp-primary\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Primary\",\n            \"multi\": false,\n            \"name\": \"primary\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total{destination_workload_namespace=~\\\"$namespace\\\"}) by (destination_workload))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*destination_workload=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 1,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          },\n          {\n            \"current\": {\n              \"selected\": true,\n              \"text\": \"myapp\",\n              \"value\": \"myapp\"\n            },\n            \"datasource\": {\n              \"type\": \"prometheus\",\n              \"uid\": \"PEB814BE3CA3B78C0\"\n            },\n            \"definition\": \"\",\n            \"hide\": 0,\n            \"includeAll\": false,\n            \"label\": \"Canary\",\n            \"multi\": false,\n            \"name\": \"canary\",\n            \"options\": [],\n            \"query\": \"query_result(sum(istio_requests_total{destination_workload_namespace=~\\\"$namespace\\\"}) by (destination_workload))\",\n            \"refresh\": 1,\n            \"regex\": \"/.*destination_workload=\\\"([^\\\"]*).*/\",\n            \"skipUrlSync\": false,\n            \"sort\": 1,\n            \"tagValuesQuery\": \"\",\n            \"tagsQuery\": \"\",\n            \"type\": \"query\",\n            \"useTags\": false\n          }\n        ]\n      },\n      \"time\": {\n        \"from\": \"now-15m\",\n        \"to\": \"now\"\n      },\n      \"timepicker\": {\n        \"refresh_intervals\": [\n          \"5s\",\n          \"10s\",\n          \"30s\",\n          \"1m\",\n          \"5m\",\n          \"15m\",\n          \"30m\",\n          \"1h\",\n          \"2h\",\n          \"1d\"\n        ],\n        \"time_options\": [\n          \"5m\",\n          \"15m\",\n          \"1h\",\n          \"6h\",\n          \"12h\",\n          \"24h\",\n          \"2d\",\n          \"7d\",\n          \"30d\"\n        ]\n      },\n      \"timezone\": \"\",\n      \"title\": \"Istio Canary\",\n      \"uid\": \"flagger-istio\",\n      \"version\": 1,\n      \"weekStart\": \"\"\n    }\nkind: ConfigMap\nmetadata:\n  name: flagger-v1\n  namespace: monitoring\n",
            "yaml_incluster": "3bb14d25576a0b1f07cc1a5f0a8f3dba85d383c90a228d5bf77058447def1fbb"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.grafana_dashboards",
            "helm_release.prometheus_operator_crds"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "kubectl_manifest",
      "name": "prometheus",
      "provider": "provider[\"registry.terraform.io/gavinbunney/kubectl\"]",
      "instances": [
        {
          "index_key": "---\napiVersion: monitoring.coreos.com/v1\nkind: Prometheus\nmetadata:\n  name: main\n  namespace: monitoring\nspec:\n  version: v2.46.0\n  serviceAccountName: prometheus\n  podMonitorSelector:\n    matchLabels:\n      prometheus: main\n  podMonitorNamespaceSelector:\n    matchLabels:\n      monitoring: prometheus\n  serviceMonitorSelector:\n    matchLabels:\n      prometheus: main\n  serviceMonitorNamespaceSelector:\n    matchLabels:\n      monitoring: prometheus\n  replicas: 1\n  logLevel: info\n  logFormat: logfmt\n  retention: 7d\n  scrapeInterval: 5s\n  securityContext:\n    fsGroup: 0\n    runAsNonRoot: false\n    runAsUser: 0\n  # storage:\n  #   volumeClaimTemplate:\n  #     spec:\n  #       resources:\n  #         requests:\n  #           storage: 20Gi",
          "schema_version": 1,
          "attributes": {
            "api_version": "monitoring.coreos.com/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/monitoring.coreos.com/v1/namespaces/monitoring/prometheuses/main",
            "ignore_fields": null,
            "kind": "Prometheus",
            "live_manifest_incluster": "63caffdc39eef54d80f50521567a4d19ff4e8619be9bd98779394ec860551f2a",
            "live_uid": "9aecc4e3-fc7c-4216-a87e-c838ac3eea57",
            "name": "main",
            "namespace": "monitoring",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "9aecc4e3-fc7c-4216-a87e-c838ac3eea57",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: monitoring.coreos.com/v1\nkind: Prometheus\nmetadata:\n  name: main\n  namespace: monitoring\nspec:\n  version: v2.46.0\n  serviceAccountName: prometheus\n  podMonitorSelector:\n    matchLabels:\n      prometheus: main\n  podMonitorNamespaceSelector:\n    matchLabels:\n      monitoring: prometheus\n  serviceMonitorSelector:\n    matchLabels:\n      prometheus: main\n  serviceMonitorNamespaceSelector:\n    matchLabels:\n      monitoring: prometheus\n  replicas: 1\n  logLevel: info\n  logFormat: logfmt\n  retention: 7d\n  scrapeInterval: 5s\n  securityContext:\n    fsGroup: 0\n    runAsNonRoot: false\n    runAsUser: 0\n  # storage:\n  #   volumeClaimTemplate:\n  #     spec:\n  #       resources:\n  #         requests:\n  #           storage: 20Gi",
            "yaml_body_parsed": "apiVersion: monitoring.coreos.com/v1\nkind: Prometheus\nmetadata:\n  name: main\n  namespace: monitoring\nspec:\n  logFormat: logfmt\n  logLevel: info\n  podMonitorNamespaceSelector:\n    matchLabels:\n      monitoring: prometheus\n  podMonitorSelector:\n    matchLabels:\n      prometheus: main\n  replicas: 1\n  retention: 7d\n  scrapeInterval: 5s\n  securityContext:\n    fsGroup: 0\n    runAsNonRoot: false\n    runAsUser: 0\n  serviceAccountName: prometheus\n  serviceMonitorNamespaceSelector:\n    matchLabels:\n      monitoring: prometheus\n  serviceMonitorSelector:\n    matchLabels:\n      prometheus: main\n  version: v2.46.0\n",
            "yaml_incluster": "63caffdc39eef54d80f50521567a4d19ff4e8619be9bd98779394ec860551f2a"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.prometheus",
            "helm_release.prometheus_operator_crds"
          ]
        },
        {
          "index_key": "---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: prometheus\nrules:\n  - apiGroups: [\"\"]\n    resources:\n      - nodes\n      - nodes/metrics\n      - services\n      - endpoints\n      - pods\n    verbs: [\"get\", \"list\", \"watch\"]\n  - apiGroups: [\"\"]\n    resources:\n      - configmaps\n    verbs: [\"get\"]\n  - apiGroups:\n      - networking.k8s.io\n    resources:\n      - ingresses\n    verbs: [\"get\", \"list\", \"watch\"]\n  - nonResourceURLs: [\"/metrics\"]\n    verbs: [\"get\"]",
          "schema_version": 1,
          "attributes": {
            "api_version": "rbac.authorization.k8s.io/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/rbac.authorization.k8s.io/v1/clusterroles/prometheus",
            "ignore_fields": null,
            "kind": "ClusterRole",
            "live_manifest_incluster": "24b7784f2df1a7f872140170225e936f0020a08976169f5c23e5feecd20082ad",
            "live_uid": "5c604ea2-7d3f-4c41-ade4-78998f57e61a",
            "name": "prometheus",
            "namespace": null,
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "5c604ea2-7d3f-4c41-ade4-78998f57e61a",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: prometheus\nrules:\n  - apiGroups: [\"\"]\n    resources:\n      - nodes\n      - nodes/metrics\n      - services\n      - endpoints\n      - pods\n    verbs: [\"get\", \"list\", \"watch\"]\n  - apiGroups: [\"\"]\n    resources:\n      - configmaps\n    verbs: [\"get\"]\n  - apiGroups:\n      - networking.k8s.io\n    resources:\n      - ingresses\n    verbs: [\"get\", \"list\", \"watch\"]\n  - nonResourceURLs: [\"/metrics\"]\n    verbs: [\"get\"]",
            "yaml_body_parsed": "apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRole\nmetadata:\n  name: prometheus\nrules:\n- apiGroups:\n  - \"\"\n  resources:\n  - nodes\n  - nodes/metrics\n  - services\n  - endpoints\n  - pods\n  verbs:\n  - get\n  - list\n  - watch\n- apiGroups:\n  - \"\"\n  resources:\n  - configmaps\n  verbs:\n  - get\n- apiGroups:\n  - networking.k8s.io\n  resources:\n  - ingresses\n  verbs:\n  - get\n  - list\n  - watch\n- nonResourceURLs:\n  - /metrics\n  verbs:\n  - get\n",
            "yaml_incluster": "24b7784f2df1a7f872140170225e936f0020a08976169f5c23e5feecd20082ad"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.prometheus",
            "helm_release.prometheus_operator_crds"
          ]
        },
        {
          "index_key": "---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: prometheus\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: prometheus\nsubjects:\n  - kind: ServiceAccount\n    name: prometheus\n    namespace: monitoring",
          "schema_version": 1,
          "attributes": {
            "api_version": "rbac.authorization.k8s.io/v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/apis/rbac.authorization.k8s.io/v1/clusterrolebindings/prometheus",
            "ignore_fields": null,
            "kind": "ClusterRoleBinding",
            "live_manifest_incluster": "7a060d6c797f0aafc9843e653dd9335b329c1ccfbde85f0b9dd13f13fbe1e9c4",
            "live_uid": "342c3623-36d5-4786-8192-5de4a3d19534",
            "name": "prometheus",
            "namespace": null,
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "342c3623-36d5-4786-8192-5de4a3d19534",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: prometheus\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: prometheus\nsubjects:\n  - kind: ServiceAccount\n    name: prometheus\n    namespace: monitoring",
            "yaml_body_parsed": "apiVersion: rbac.authorization.k8s.io/v1\nkind: ClusterRoleBinding\nmetadata:\n  name: prometheus\nroleRef:\n  apiGroup: rbac.authorization.k8s.io\n  kind: ClusterRole\n  name: prometheus\nsubjects:\n- kind: ServiceAccount\n  name: prometheus\n  namespace: monitoring\n",
            "yaml_incluster": "7a060d6c797f0aafc9843e653dd9335b329c1ccfbde85f0b9dd13f13fbe1e9c4"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.prometheus",
            "helm_release.prometheus_operator_crds"
          ]
        },
        {
          "index_key": "---\napiVersion: v1\nkind: Service\nmetadata:\n  name: prometheus\n  namespace: monitoring\nspec:\n  type: LoadBalancer\n  selector:\n    app.kubernetes.io/instance: main\n    app.kubernetes.io/managed-by: prometheus-operator\n  ports:\n    - protocol: TCP\n      port: 80\n      targetPort: web",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/monitoring/services/prometheus",
            "ignore_fields": null,
            "kind": "Service",
            "live_manifest_incluster": "bc98ee2d23388a689fa2126acc17d7c9a65a073caa722b99ccbd4cc91e5d4ef9",
            "live_uid": "3a0f3176-46ac-42fd-84ee-1d2a43233191",
            "name": "prometheus",
            "namespace": "monitoring",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "3a0f3176-46ac-42fd-84ee-1d2a43233191",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: v1\nkind: Service\nmetadata:\n  name: prometheus\n  namespace: monitoring\nspec:\n  type: LoadBalancer\n  selector:\n    app.kubernetes.io/instance: main\n    app.kubernetes.io/managed-by: prometheus-operator\n  ports:\n    - protocol: TCP\n      port: 80\n      targetPort: web",
            "yaml_body_parsed": "apiVersion: v1\nkind: Service\nmetadata:\n  name: prometheus\n  namespace: monitoring\nspec:\n  ports:\n  - port: 80\n    protocol: TCP\n    targetPort: web\n  selector:\n    app.kubernetes.io/instance: main\n    app.kubernetes.io/managed-by: prometheus-operator\n  type: LoadBalancer\n",
            "yaml_incluster": "bc98ee2d23388a689fa2126acc17d7c9a65a073caa722b99ccbd4cc91e5d4ef9"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.prometheus",
            "helm_release.prometheus_operator_crds"
          ]
        },
        {
          "index_key": "---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: prometheus\n  namespace: monitoring",
          "schema_version": 1,
          "attributes": {
            "api_version": "v1",
            "apply_only": false,
            "force_conflicts": false,
            "force_new": false,
            "id": "/api/v1/namespaces/monitoring/serviceaccounts/prometheus",
            "ignore_fields": null,
            "kind": "ServiceAccount",
            "live_manifest_incluster": "e26063a121f20964c4604d9850459dd688aa9ca5d4a522220bfc349c1cacd5ad",
            "live_uid": "84171a6c-2da0-4e9d-a301-1ecacff92d79",
            "name": "prometheus",
            "namespace": "monitoring",
            "override_namespace": null,
            "sensitive_fields": null,
            "server_side_apply": false,
            "timeouts": null,
            "uid": "84171a6c-2da0-4e9d-a301-1ecacff92d79",
            "validate_schema": true,
            "wait": null,
            "wait_for_rollout": true,
            "yaml_body": "---\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: prometheus\n  namespace: monitoring",
            "yaml_body_parsed": "apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: prometheus\n  namespace: monitoring\n",
            "yaml_incluster": "e26063a121f20964c4604d9850459dd688aa9ca5d4a522220bfc349c1cacd5ad"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "yaml_body"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "live_manifest_incluster"
              }
            ],
            [
              {
                "type": "get_attr",
                "value": "yaml_incluster"
              }
            ]
          ],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "data.kubectl_path_documents.prometheus",
            "helm_release.prometheus_operator_crds"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
